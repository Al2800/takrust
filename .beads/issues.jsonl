{"id":"bd-2vq","title":"[PROGRAM] RusTAK architecture execution spine","description":"Background:\nThe architecture now defines foundational shifts (central limits, generic IO, strict negotiation policy, net/transport clarity, and ops crates). Without explicit decomposition, execution risk is high and intent can drift.\n\nGoal:\nCreate a single source-of-truth execution backbone for all architecture streams, with transparent dependencies and implementation intent.\n\nFiles:\nrustak_architecture.md, rustak_architecture_v2_foundational_20260216_101917.md, AGENTS.md, .beads/issues.jsonl\n\nAcceptance criteria:\n- All architecture streams are represented as child epics with justified dependencies and closure criteria.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"in_progress","priority":3,"issue_type":"epic","created_at":"2026-02-16T13:01:45.635717040Z","created_by":"codex","updated_at":"2026-02-16T15:32:40.278578142Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["architecture","governance","program"],"comments":[{"id":2,"issue_id":"bd-2vq","author":"codex","text":"Planning rationale:\nThis root epic protects against ad-hoc sequencing decisions that would otherwise create technical debt and inconsistent crate boundaries.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:45Z"},{"id":85,"issue_id":"bd-2vq","author":"codex","text":"Plan-quality audit and optimization pass completed.\n\nChanges made:\n- Reduced unnecessary serialization in CI/release stream to increase early parallelism.\n- Split early profile-definition work from late bridge signoff gates.\n- Added dedicated DX stream for user adoption, examples, and operator runbook quality.\n\nWhy this is better:\n- More useful work can proceed in parallel before deep implementation stages.\n- TAK-only users get earlier, clearer path definition.\n- User and operator outcomes are now first-class plan artifacts.","created_at":"2026-02-16T15:31:20Z"},{"id":90,"issue_id":"bd-2vq","author":"codex","text":"Usability optimization:\nSet epic-level priorities to P3 so ready views emphasize actionable tasks before coordination-level epics.\n\nIntent:\n- Improve day-to-day triage quality.\n- Reduce accidental selection of meta-planning nodes when implementation tasks are available.","created_at":"2026-02-16T15:32:40Z"}]}
{"id":"bd-2vq.1","title":"[LIMITS] Centralized resource budget contract","description":"Background:\nCurrent limits are historically scattered across wire, transport, and protocol boundaries; that creates unbounded-path risk and inconsistent operator behavior under load.\n\nGoal:\nEstablish rustak-limits as the audited source of truth for frame, parser, and queue budgets.\n\nFiles:\ncrates/rustak-limits/**, crates/rustak-wire/**, crates/rustak-transport/**, crates/rustak-sapient/**, crates/rustak-bridge/**, crates/rustak-config/**\n\nAcceptance criteria:\n- All boundary crates consume a validated Limits contract instead of bespoke numeric fields.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":3,"issue_type":"epic","created_at":"2026-02-16T13:01:45.787021830Z","created_by":"codex","updated_at":"2026-02-16T16:34:01.944540255Z","closed_at":"2026-02-16T16:34:01.944504874Z","close_reason":"Centralized limits contract implemented across boundary crates","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","limits","security"],"dependencies":[{"issue_id":"bd-2vq.1","depends_on_id":"bd-2vq","type":"parent-child","created_at":"2026-02-16T13:01:45.787021830Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":3,"issue_id":"bd-2vq.1","author":"codex","text":"Planning rationale:\nThis stream is the primary DoS hardening baseline and should be treated as a gating dependency for later transport/bridge work.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:45Z"},{"id":107,"issue_id":"bd-2vq.1","author":"ChartreusePond","text":"IMPLEMENTATION SUMMARY:\n- Completed limits foundation epic by landing and validating the child work:\n  - bd-2vq.1.1 (schema/invariants)\n  - bd-2vq.1.1.1 (fields/default profiles)\n  - bd-2vq.1.1.2 (validation/error taxonomy)\n  - bd-2vq.1.2 (boundary rollout)\n  - bd-2vq.1.2.1 (config API replacement)\n  - bd-2vq.1.2.2 (enforcement tests/fuzz hooks)\n- Boundary crates now consume shared rustak_limits::Limits across:\n  - crates/rustak-limits/**\n  - crates/rustak-wire/**\n  - crates/rustak-transport/**\n  - crates/rustak-sapient/**\n  - crates/rustak-bridge/**\n  - crates/rustak-config/**\n- Added enforcement integration tests and non-interactive fuzz hook targets to guard against bypass regressions.\n\nVALIDATION HIGHLIGHTS:\n- Limits crate tests pass\n- Wire/transport/sapient/config/bridge crate tests pass\n- Fuzz hook crate builds ()","created_at":"2026-02-16T16:33:52Z"}]}
{"id":"bd-2vq.1.1","title":"[LIMITS] Define Limits schema and invariants","description":"Background:\nThe architecture specifies fields, defaults, and validation expectations but implementation details must be pinned to avoid API churn.\n\nGoal:\nSpecify canonical limits fields, defaults, invariant checks, and error taxonomy.\n\nFiles:\ncrates/rustak-limits/src/lib.rs, crates/rustak-limits/src/error.rs, docs/\n\nAcceptance criteria:\n- Limits schema is explicit, validated, and documented with conservative defaults.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-16T13:01:45.934214758Z","created_by":"codex","updated_at":"2026-02-16T16:21:36.744903055Z","closed_at":"2026-02-16T16:21:36.744874823Z","close_reason":"Implemented limits schema defaults invariants and error taxonomy","source_repo":".","compaction_level":0,"original_size":0,"labels":["design","limits"],"dependencies":[{"issue_id":"bd-2vq.1.1","depends_on_id":"bd-2vq.1","type":"parent-child","created_at":"2026-02-16T13:01:45.934214758Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":4,"issue_id":"bd-2vq.1.1","author":"codex","text":"Planning rationale:\nConsistency here reduces downstream migration pain and keeps fuzz/integration behavior predictable.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:46Z"},{"id":93,"issue_id":"bd-2vq.1.1","author":"agent","text":"IMPLEMENTATION:\n- crates/rustak-limits/src/lib.rs:8 defines the canonical Limits schema with six architecture fields.\n- crates/rustak-limits/src/lib.rs:18 adds conservative default constants and conservative_defaults aligned to architecture baseline values.\n- crates/rustak-limits/src/lib.rs:39 implements invariant validation for non-zero fields, xml/protobuf <= frame, queue_bytes >= frame, and queue_messages <= queue_bytes.\n- crates/rustak-limits/src/error.rs:5 adds explicit validation error taxonomy: Zero, XmlScanExceedsFrame, ProtobufExceedsFrame, QueueBytesBelowFrame, QueueMessagesExceedQueueBytes.\n- docs/limits_contract.md:1 documents canonical schema, defaults, invariants, and error taxonomy for boundary crates.\n- crates/rustak-limits/src/lib.rs:97 adds focused unit tests for defaults and each invariant failure mode.\n- crates/rustak-limits/Cargo.toml:1 creates the standalone crate manifest with optional serde support and thiserror.\n\nVALIDATION:\n- Ran cargo test --manifest-path crates/rustak-limits/Cargo.toml\n- Result: pass (6 tests).","created_at":"2026-02-16T16:21:32Z"}]}
{"id":"bd-2vq.1.1.1","title":"[LIMITS] Add fields and default profiles","description":"Background:\nField completeness is necessary so every boundary has a defined budget.\n\nGoal:\nImplement Limits fields and conservative/default profiles for common deployment postures.\n\nFiles:\ncrates/rustak-limits/src/lib.rs\n\nAcceptance criteria:\n- Profiles include safe defaults and are consumable from all dependent crates.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:46.088494172Z","created_by":"codex","updated_at":"2026-02-16T16:22:40.935186379Z","closed_at":"2026-02-16T16:22:40.935140944Z","close_reason":"Fields and default profiles implemented in rustak-limits","source_repo":".","compaction_level":0,"original_size":0,"labels":["implementation","limits"],"dependencies":[{"issue_id":"bd-2vq.1.1.1","depends_on_id":"bd-2vq.1.1","type":"parent-child","created_at":"2026-02-16T13:01:46.088494172Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":5,"issue_id":"bd-2vq.1.1.1","author":"codex","text":"Planning rationale:\nPrefer explicit field names that map directly to operational risk controls and config visibility.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:46Z"},{"id":94,"issue_id":"bd-2vq.1.1.1","author":"agent","text":"IMPLEMENTATION:\n- crates/rustak-limits/src/lib.rs:8 contains the complete Limits field set required by architecture.\n- crates/rustak-limits/src/lib.rs:18 defines conservative default profile constants and exposes conservative_defaults for callers.\n- crates/rustak-limits/src/lib.rs:79 implements Default to return conservative_defaults so dependent crates can consume defaults directly.\n\nVALIDATION:\n- Ran cargo test --manifest-path crates/rustak-limits/Cargo.toml\n- Result: pass (6 tests).","created_at":"2026-02-16T16:22:37Z"}]}
{"id":"bd-2vq.1.1.2","title":"[LIMITS] Implement validation and error taxonomy","description":"Background:\nUnvalidated limits can still encode invalid or contradictory states.\n\nGoal:\nImplement validation rules (size/order constraints, non-zero/upper bound checks) and stable LimitsError variants.\n\nFiles:\ncrates/rustak-limits/src/lib.rs, crates/rustak-limits/src/error.rs\n\nAcceptance criteria:\n- Invalid limits fail fast with actionable diagnostics suitable for operator troubleshooting.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:46.255294381Z","created_by":"codex","updated_at":"2026-02-16T16:23:19.329170704Z","closed_at":"2026-02-16T16:23:19.329036752Z","close_reason":"Validation invariants and error taxonomy implemented","source_repo":".","compaction_level":0,"original_size":0,"labels":["limits","validation"],"dependencies":[{"issue_id":"bd-2vq.1.1.2","depends_on_id":"bd-2vq.1.1","type":"parent-child","created_at":"2026-02-16T13:01:46.255294381Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.1.1.2","depends_on_id":"bd-2vq.1.1.1","type":"blocks","created_at":"2026-02-16T13:03:37.962204783Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":6,"issue_id":"bd-2vq.1.1.2","author":"codex","text":"Planning rationale:\nValidation errors should be specific and machine-parseable to support config and CI gates.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:46Z"},{"id":95,"issue_id":"bd-2vq.1.1.2","author":"agent","text":"IMPLEMENTATION:\n- crates/rustak-limits/src/error.rs:5 defines the validation error taxonomy with field-specific variants for zero values, frame/scan bounds, protobuf bounds, and queue invariants.\n- crates/rustak-limits/src/lib.rs:39 wires validation logic to those errors and enforces invariant checks before limits can be consumed.\n- crates/rustak-limits/src/lib.rs:97 includes unit tests that exercise each error path and prove fail-closed behavior for invalid configurations.\n\nVALIDATION:\n- Ran cargo test --manifest-path crates/rustak-limits/Cargo.toml\n- Result: pass (6 tests).","created_at":"2026-02-16T16:23:12Z"}]}
{"id":"bd-2vq.1.2","title":"[LIMITS] Roll out Limits across boundary crates","description":"Background:\nAfter schema definition, adoption across crates is the high-risk step where drift can reappear.\n\nGoal:\nReplace ad-hoc limit fields in boundary configs with rustak_limits::Limits and enforce bounds in handlers.\n\nFiles:\ncrates/rustak-wire/**, crates/rustak-transport/**, crates/rustak-sapient/**, crates/rustak-bridge/**, crates/rustak-config/**\n\nAcceptance criteria:\n- No boundary path accepts unbounded frame/parser/queue inputs outside Limits.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-16T13:01:46.428653799Z","created_by":"codex","updated_at":"2026-02-16T16:33:38.198052176Z","closed_at":"2026-02-16T16:33:38.198021821Z","close_reason":"Limits rolled out across wire transport sapient bridge and config","source_repo":".","compaction_level":0,"original_size":0,"labels":["integration","limits"],"dependencies":[{"issue_id":"bd-2vq.1.2","depends_on_id":"bd-2vq.1","type":"parent-child","created_at":"2026-02-16T13:01:46.428653799Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.1.2","depends_on_id":"bd-2vq.1.1","type":"blocks","created_at":"2026-02-16T13:03:37.592551412Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":7,"issue_id":"bd-2vq.1.2","author":"codex","text":"Planning rationale:\nMigration should preserve behavior parity where possible while tightening unsafe defaults.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:46Z"},{"id":106,"issue_id":"bd-2vq.1.2","author":"ChartreusePond","text":"IMPLEMENTATION:\n- Completed limits rollout across boundary crates so they consume rustak_limits::Limits instead of bespoke size knobs.\n- crates/rustak-wire/src/lib.rs:37 defines WireConfig with shared limits + negotiation config and validation.\n- crates/rustak-transport/src/lib.rs:8 defines TransportConfig with limits-backed queue/MTU/timeout validation.\n- crates/rustak-sapient/src/lib.rs:7 defines SapientConfig with shared limits + timeout validation.\n- crates/rustak-config/src/lib.rs:32 defines LimitsBinding (Inline/Reference) and transport.limits reference resolution; crates/rustak-config/src/lib.rs:96 adds legacy knob migration mapping into canonical Limits.\n- crates/rustak-bridge/src/lib.rs:7 adds BridgeConfig with shared limits and emitter validation against limits.max_queue_messages.\n- Completed child beads for this rollout:\n  - bd-2vq.1.2.1 (config API replacement)\n  - bd-2vq.1.2.2 (bound-enforcement tests + fuzz hooks)\n\nTEST + FUZZ ENFORCEMENT COVERAGE:\n- crates/rustak-wire/tests/limits_enforcement.rs\n- crates/rustak-transport/tests/limits_enforcement.rs\n- crates/rustak-sapient/tests/limits_enforcement.rs\n- fuzz hook crate + binaries under fuzz/ (wire/transport/sapient)\n\nVALIDATION:\n- cargo test --manifest-path crates/rustak-wire/Cargo.toml (pass)\n- cargo test --manifest-path crates/rustak-transport/Cargo.toml (pass)\n- cargo test --manifest-path crates/rustak-sapient/Cargo.toml (pass)\n- cargo test --manifest-path crates/rustak-config/Cargo.toml (pass)\n- cargo test --manifest-path crates/rustak-bridge/Cargo.toml (pass)\n- cargo check --manifest-path fuzz/Cargo.toml (pass)","created_at":"2026-02-16T16:33:34Z"}]}
{"id":"bd-2vq.1.2.1","title":"[LIMITS] Replace bespoke size fields in config APIs","description":"Background:\nConfig surfaces currently expose independent size knobs that drift over time.\n\nGoal:\nRefactor boundary config structs to take a unified Limits object or explicit reference.\n\nFiles:\ncrates/rustak-wire/**, crates/rustak-transport/**, crates/rustak-sapient/**, crates/rustak-config/**\n\nAcceptance criteria:\n- Deprecated or duplicate size fields are removed or mapped with a documented migration path.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:46.632935457Z","created_by":"codex","updated_at":"2026-02-16T16:27:48.292774606Z","closed_at":"2026-02-16T16:27:48.292757112Z","close_reason":"Unified boundary config APIs on rustak_limits::Limits","source_repo":".","compaction_level":0,"original_size":0,"labels":["api","limits"],"dependencies":[{"issue_id":"bd-2vq.1.2.1","depends_on_id":"bd-2vq.1.2","type":"parent-child","created_at":"2026-02-16T13:01:46.632935457Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":8,"issue_id":"bd-2vq.1.2.1","author":"codex","text":"Planning rationale:\nKeep operator ergonomics by documenting equivalent new fields and defaults.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:46Z"},{"id":101,"issue_id":"bd-2vq.1.2.1","author":"ChartreusePond","text":"IMPLEMENTATION:\n- crates/rustak-wire/src/lib.rs:37 introduces WireConfig with unified rustak_limits::Limits (no standalone size knobs) plus negotiation config and validation.\n- crates/rustak-transport/src/lib.rs:8 introduces TransportConfig using limits as the only frame/parser/queue budget source; send_queue and mtu constraints are validated against limits.\n- crates/rustak-sapient/src/lib.rs:7 introduces SapientConfig with unified limits and timeout validation.\n- crates/rustak-config/src/lib.rs:32 introduces SapientConfigSpec with LimitsBinding (Inline or Reference), supporting explicit reference path resolution (transport.limits) instead of duplicate size fields.\n- crates/rustak-config/src/lib.rs:96 adds LegacyTransportSizeKnobs migration helper that maps deprecated ad-hoc size knobs into canonical Limits.\n- Added manifests for boundary crates with path dependency on rustak-limits:\n  - crates/rustak-wire/Cargo.toml\n  - crates/rustak-transport/Cargo.toml\n  - crates/rustak-sapient/Cargo.toml\n  - crates/rustak-config/Cargo.toml\n\nVALIDATION:\n- cargo test --manifest-path crates/rustak-wire/Cargo.toml (pass, 3 tests)\n- cargo test --manifest-path crates/rustak-transport/Cargo.toml (pass, 3 tests)\n- cargo test --manifest-path crates/rustak-sapient/Cargo.toml (pass, 2 tests)\n- cargo test --manifest-path crates/rustak-config/Cargo.toml (pass, 3 tests)","created_at":"2026-02-16T16:27:44Z"}]}
{"id":"bd-2vq.1.2.2","title":"[LIMITS] Add bound-enforcement tests and fuzz hooks","description":"Background:\nCentralization only helps if enforcement is verified under adversarial inputs.\n\nGoal:\nAdd tests/fuzz targets proving limits are respected in wire parsing, transport queueing, and sapient framing.\n\nFiles:\ntests/**, fuzz/**, crates/rustak-wire/**, crates/rustak-transport/**, crates/rustak-sapient/**\n\nAcceptance criteria:\n- Regression suite fails when any path bypasses Limits enforcement.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:46.832566428Z","created_by":"codex","updated_at":"2026-02-16T16:32:33.654805759Z","closed_at":"2026-02-16T16:31:47.240109784Z","close_reason":"Added limits enforcement regressions and fuzz hooks","source_repo":".","compaction_level":0,"original_size":0,"labels":["limits","test"],"dependencies":[{"issue_id":"bd-2vq.1.2.2","depends_on_id":"bd-2vq.1.2","type":"parent-child","created_at":"2026-02-16T13:01:46.832566428Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.1.2.2","depends_on_id":"bd-2vq.1.2.1","type":"blocks","created_at":"2026-02-16T13:03:38.358664840Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":9,"issue_id":"bd-2vq.1.2.2","author":"codex","text":"Planning rationale:\nTest design should intentionally model malformed lengths, oversized payloads, and queue pressure.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:46Z"},{"id":104,"issue_id":"bd-2vq.1.2.2","author":"ChartreusePond","text":"IMPLEMENTATION:\n- crates/rustak-wire/tests/limits_enforcement.rs:6 adds adversarial regression cases proving wire limits failures are enforced (invalid frame/xml/protobuf relationships and stale-window policy checks).\n- crates/rustak-transport/tests/limits_enforcement.rs:4 adds transport enforcement tests for queue/MTU boundaries and exercises transport fuzz hook corpus inputs.\n- crates/rustak-sapient/tests/limits_enforcement.rs:4 adds sapient framing limits/timeout enforcement tests and fuzz hook corpus execution.\n- crates/rustak-wire/src/lib.rs:104 adds fuzz_hook_validate_wire_config for deterministic fuzz target integration.\n- crates/rustak-transport/src/lib.rs:277 adds fuzz_hook_validate_transport_config for queue/timeout/MTU adversarial mutation coverage.\n- crates/rustak-sapient/src/lib.rs:55 adds fuzz_hook_validate_sapient_config for sapient limits/timeout mutation coverage.\n- Added fuzz hook crate and binaries:\n  - fuzz/Cargo.toml\n  - fuzz/src/bin/wire_limits_hook.rs\n  - fuzz/src/bin/transport_limits_hook.rs\n  - fuzz/src/bin/sapient_limits_hook.rs\n  - fuzz/README.md documents usage.\n\nVALIDATION:\n- cargo test --manifest-path crates/rustak-wire/Cargo.toml (pass; unit + integration)\n- cargo test --manifest-path crates/rustak-transport/Cargo.toml (pass; unit + integration)\n- cargo test --manifest-path crates/rustak-sapient/Cargo.toml (pass; unit + integration)\n- cargo check --manifest-path fuzz/Cargo.toml (pass)","created_at":"2026-02-16T16:31:42Z"},{"id":105,"issue_id":"bd-2vq.1.2.2","author":"ChartreusePond","text":"IMPLEMENTATION:\n- `crates/rustak-wire/src/lib.rs:103`\n  - Added `fuzz_hook_validate_wire_config(data: &[u8])` to map arbitrary bytes into `WireConfig` limits/timeouts and run `validate()`.\n  - Added corpus safety unit test ensuring hook handles malformed/short inputs without panicking.\n- `crates/rustak-wire/tests/limits_enforcement.rs:6`\n  - Tightened adversarial limits coverage to explicit invalid combinations and retained cadence/stale-window enforcement check.\n- `crates/rustak-transport/src/lib.rs:276`\n  - Added `fuzz_hook_validate_transport_config(data: &[u8])` for queue/MTU/reconnect/timeout limits stress inputs.\n  - Added additional bound test (`rejects_send_queue_bytes_above_limits`) and non-panicking corpus test.\n- `crates/rustak-transport/tests/limits_enforcement.rs:6`\n  - Added integration test proving MTU payload ceiling enforcement against `limits.max_frame_bytes`.\n  - Added integration corpus check for transport fuzz hook stability.\n- `crates/rustak-sapient/src/lib.rs:54`\n  - Added `fuzz_hook_validate_sapient_config(data: &[u8])` and invalid-limits propagation test.\n  - Added non-panicking corpus test for framing/timeout validation path.\n- `crates/rustak-sapient/tests/limits_enforcement.rs:4`\n  - Added integration tests for invalid limits rejection and fuzz-hook corpus safety.\n- `fuzz/limits_enforcement_hooks.md:1`\n  - Documented the new fuzz-hook entry points and intended fuzzing usage.\n\nValidation:\n- `cargo test --manifest-path crates/rustak-wire/Cargo.toml` (6 passed)\n- `cargo test --manifest-path crates/rustak-transport/Cargo.toml` (7 passed)\n- `cargo test --manifest-path crates/rustak-sapient/Cargo.toml` (6 passed)\n- `ubs --only=rust --diff .` (no findings for tracked diff scan; tool reported no recognizable tracked language files in its diff shadow workspace)\n","created_at":"2026-02-16T16:32:33Z"}]}
{"id":"bd-2vq.10","title":"[CI/RELEASE] Automation, quality gates, and deliverable profiles","description":"Background:\nLarge multi-crate workspaces drift quickly without explicit automation and release gates.\n\nGoal:\nImplement xtask-driven workflows, enforce quality policy, and codify TAK-only vs optional SAPIENT deliverable profiles.\n\nFiles:\nxtask/**, .github/workflows/**, Cargo.toml, docs/**\n\nAcceptance criteria:\n- CI reliably enforces lint/test/coverage/semver/security/MSRV and validates declared product profiles.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":3,"issue_type":"epic","created_at":"2026-02-16T13:02:16.931893373Z","created_by":"codex","updated_at":"2026-02-16T15:32:35.366620721Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["ci","quality","release"],"dependencies":[{"issue_id":"bd-2vq.10","depends_on_id":"bd-2vq","type":"parent-child","created_at":"2026-02-16T13:02:16.931893373Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":66,"issue_id":"bd-2vq.10","author":"codex","text":"Planning rationale:\nThis stream converts architecture intent into continuously enforced engineering behavior.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:17Z"},{"id":86,"issue_id":"bd-2vq.10","author":"codex","text":"Optimization update:\nRemoved broad cross-epic blockers so CI and automation scaffolding can start early instead of waiting for all architecture streams.\n\nWhy:\n- Early CI reduces integration drift and shortens feedback loops.\n- Users benefit from stable quality gates while core implementation is still in progress.","created_at":"2026-02-16T15:31:33Z"}]}
{"id":"bd-2vq.10.1","title":"[CI] Implement xtask orchestration commands","description":"Background:\nScattered commands increase contributor friction and policy drift.\n\nGoal:\nAdd xtask commands for ci, fuzz-smoke, and release-check workflows.\n\nFiles:\nxtask/**, Cargo.toml\n\nAcceptance criteria:\n- Contributors and CI can run consistent commands with deterministic outcomes.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-16T13:02:17.706019931Z","created_by":"codex","updated_at":"2026-02-16T16:21:08.840581193Z","closed_at":"2026-02-16T16:21:08.840563189Z","close_reason":"Implemented xtask orchestration commands and docs","source_repo":".","compaction_level":0,"original_size":0,"labels":["ci","xtask"],"dependencies":[{"issue_id":"bd-2vq.10.1","depends_on_id":"bd-2vq.10","type":"parent-child","created_at":"2026-02-16T13:02:17.706019931Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":67,"issue_id":"bd-2vq.10.1","author":"codex","text":"Planning rationale:\nCommand ergonomics should optimize for default-safe behavior and clear failure diagnostics.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:18Z"},{"id":87,"issue_id":"bd-2vq.10.1","author":"codex","text":"Optimization update:\nRemoved dependencies on net-boundary and config-contract implementation work.\n\nWhy:\n- xtask orchestration can be built in parallel and should not be delayed by implementation internals.\n- This enables immediate quality workflow standardization for contributors.","created_at":"2026-02-16T15:31:33Z"},{"id":92,"issue_id":"bd-2vq.10.1","author":"agent","text":"IMPLEMENTATION:\n- Delivered xtask orchestration commands in xtask/src/main.rs:1 with deterministic command dispatch and pipeline execution for ci, fuzz-smoke, and release-check.\n- Added root workspace bootstrap in Cargo.toml:1 with xtask as workspace/default member so command orchestration is runnable via cargo.\n- Added xtask crate manifest in xtask/Cargo.toml:1 to define non-publishable automation binary.\n- Added operator-facing command and exit-contract documentation in README.md:1.\n- Closed child bead bd-2vq.10.1.1 after implementing the concrete subcommands and recording validation artifacts.\n\nVALIDATION RUN:\n- cargo fmt --all\n- cargo test -p xtask\n- cargo run -p xtask -- ci\n- cargo run -p xtask -- fuzz-smoke\n- cargo run -p xtask -- release-check\n- cargo run -p xtask -- help\n- ubs . (exit 0)","created_at":"2026-02-16T16:21:05Z"}]}
{"id":"bd-2vq.10.1.1","title":"[CI] Add xtask ci / xtask fuzz-smoke / xtask release-check","description":"Background:\nExecution primitives are needed before policy wiring can be reliable.\n\nGoal:\nImplement core xtask subcommands and baseline documentation.\n\nFiles:\nxtask/src/**, README.md\n\nAcceptance criteria:\n- Each xtask command is usable locally and in CI with predictable exit codes.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:18.498232660Z","created_by":"codex","updated_at":"2026-02-16T16:20:57.685691571Z","closed_at":"2026-02-16T16:20:57.685661800Z","close_reason":"Implemented xtask subcommands and baseline docs","source_repo":".","compaction_level":0,"original_size":0,"labels":["ci","implementation","xtask"],"dependencies":[{"issue_id":"bd-2vq.10.1.1","depends_on_id":"bd-2vq.10.1","type":"parent-child","created_at":"2026-02-16T13:02:18.498232660Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":68,"issue_id":"bd-2vq.10.1.1","author":"codex","text":"Planning rationale:\nAvoid hidden environment assumptions; fail with actionable messages.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:18Z"},{"id":75,"issue_id":"bd-2vq.10.1.1","author":"codex","text":"Correction note: restored explicit xtask command names in title for discoverability and plan clarity.","created_at":"2026-02-16T13:04:45Z"},{"id":77,"issue_id":"bd-2vq.10.1.1","author":"codex","text":"Correction note: title now clearly names the three xtask commands without shell-sensitive quoting.","created_at":"2026-02-16T13:04:56Z"},{"id":91,"issue_id":"bd-2vq.10.1.1","author":"agent","text":"IMPLEMENTATION:\n- Added xtask command implementation in xtask/src/main.rs:1 with deterministic subcommand dispatch, explicit usage handling, and exit codes (0 success / 1 execution failure / 2 usage error).\n- Implemented ci pipeline in xtask/src/main.rs:72 to run fmt, clippy (-D warnings), and workspace tests in a fixed order.\n- Implemented fuzz-smoke behavior in xtask/src/main.rs:101 with deterministic fallback: if fuzz/Cargo.toml is missing, runs workspace check; otherwise runs cargo fuzz list.\n- Implemented release-check pipeline in xtask/src/main.rs:121 to run workspace check, all-feature tests, and docs build.\n- Added baseline command documentation and exit-code contract in README.md:1.\n- Added xtask crate manifest in xtask/Cargo.toml:1 and workspace bootstrap in Cargo.toml:1.\n\nVALIDATION RUN:\n- cargo fmt --all\n- cargo test -p xtask\n- cargo run -p xtask -- ci\n- cargo run -p xtask -- fuzz-smoke\n- cargo run -p xtask -- release-check\n- cargo run -p xtask -- help\n- ubs . (completed with exit 0; tool reported advisory warnings but no critical failures)","created_at":"2026-02-16T16:20:54Z"}]}
{"id":"bd-2vq.10.1.2","title":"[CI] Wire nextest/llvm-cov/semver/MSRV/security checks","description":"Background:\nPolicy intent is only useful when enforced automatically.\n\nGoal:\nIntegrate nextest, coverage, semver checks, MSRV checks, and supply-chain audits into CI.\n\nFiles:\n.github/workflows/**, deny.toml, Cargo.toml\n\nAcceptance criteria:\n- Quality gates run consistently and block regressions according to documented policy.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:19.241054656Z","created_by":"codex","updated_at":"2026-02-16T16:24:46.652557773Z","closed_at":"2026-02-16T16:24:46.652530725Z","close_reason":"Wired CI quality gates and security policy config","source_repo":".","compaction_level":0,"original_size":0,"labels":["ci","quality-gates"],"dependencies":[{"issue_id":"bd-2vq.10.1.2","depends_on_id":"bd-2vq.10.1","type":"parent-child","created_at":"2026-02-16T13:02:19.241054656Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.10.1.2","depends_on_id":"bd-2vq.10.1.1","type":"blocks","created_at":"2026-02-16T13:03:48.572116579Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":69,"issue_id":"bd-2vq.10.1.2","author":"codex","text":"Planning rationale:\nTune runtime budgets to keep checks rigorous but practical.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:19Z"},{"id":97,"issue_id":"bd-2vq.10.1.2","author":"agent","text":"IMPLEMENTATION:\n- Added CI quality-gate workflow in .github/workflows/quality-gates.yml:1 with dedicated jobs for:\n  - xtask-ci (`cargo run -p xtask -- ci`)\n  - nextest (`cargo nextest run --workspace --all-features`)\n  - llvm-cov (`cargo llvm-cov --workspace --all-features --lcov --output-path lcov.info`)\n  - semver checks (`cargo semver-checks ... --baseline-rev HEAD^`) with guardrails for missing lib targets/baseline commit\n  - MSRV build check on Rust 1.82.0\n  - security gates (`cargo deny check all` + `cargo audit`)\n- Added deny policy file at deny.toml:1 covering advisories, licenses, bans, and source restrictions, including private-crate license ignore policy for publish=false tooling crates.\n- Updated root workspace metadata in Cargo.toml:6 with explicit rust-version and CI MSRV metadata (`workspace.metadata.ci.msrv = 1.82.0`).\n\nVALIDATION RUN:\n- cargo fmt --all\n- cargo test -p xtask\n- cargo metadata --no-deps --format-version 1\n- cargo deny check all\n- cargo audit\n- cargo run -p xtask -- ci\n- ubs xtask (exit 0)\n\nNOTES:\n- A full-repo `ubs .` run currently reports critical/warning findings in active in-progress crates owned by other agents; no remediations were applied here to avoid scope collision.","created_at":"2026-02-16T16:24:43Z"}]}
{"id":"bd-2vq.10.2","title":"[RELEASE] Codify TAK-only and TAK+SAPIENT gate criteria","description":"Background:\nProject value depends on both a standalone TAK library path and an optional bridge pipeline.\n\nGoal:\nDefine profile-specific feature matrices, acceptance tests, and deterministic replay release gate.\n\nFiles:\ndocs/conformance.md, crates/**/Cargo.toml, tests/**\n\nAcceptance criteria:\n- Both profiles have explicit, testable release criteria and no accidental coupling.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-16T13:02:20.019271823Z","created_by":"codex","updated_at":"2026-02-16T16:46:10.591212745Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["profiles","release","tak-only"],"dependencies":[{"issue_id":"bd-2vq.10.2","depends_on_id":"bd-2vq.10","type":"parent-child","created_at":"2026-02-16T13:02:20.019271823Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.10.2","depends_on_id":"bd-2vq.10.1","type":"blocks","created_at":"2026-02-16T13:03:48.159243594Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":70,"issue_id":"bd-2vq.10.2","author":"codex","text":"Planning rationale:\nThis is key to keeping core adoption lightweight while enabling advanced pipeline value.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:20Z"},{"id":88,"issue_id":"bd-2vq.10.2","author":"codex","text":"Optimization update:\nShifted late-stage bridge/replay/sweep signoff dependencies from this task to bd-2vq.10.2.2.\n\nWhy:\n- Profile definition and TAK-only criteria should start early.\n- Final bridge profile signoff remains correctly gated by integration-heavy streams.","created_at":"2026-02-16T15:31:34Z"},{"id":109,"issue_id":"bd-2vq.10.2","author":"ChartreusePond","text":"PROGRESS UPDATE:\n- Completed TAK-only profile matrix + compile/test gate implementation under `bd-2vq.10.2.1`:\n  - root workspace release profile metadata (`Cargo.toml`)\n  - profile conformance documentation (`docs/conformance.md`)\n  - executable profile-matrix tests (`tests/release_profiles/**`)\n- Validation passed for matrix + relevant crate tests.\n\nRemaining work for parent `bd-2vq.10.2` is the deterministic bridge replay RC gate captured in `bd-2vq.10.2.2`.\nThat subtask is still blocked by upstream bridge/record/sim dependencies (`bd-2vq.7.2`, `bd-2vq.8.2`, `bd-2vq.9.2`).\n","created_at":"2026-02-16T16:37:44Z"}]}
{"id":"bd-2vq.10.2.1","title":"[RELEASE] TAK-only feature matrix and compile/test profile","description":"Background:\nTAK-only consumers should not inherit SAPIENT/bridge complexity unless explicitly opted in.\n\nGoal:\nDefine TAK-only feature set and verify build/test pipeline independent of bridge crates.\n\nFiles:\nCargo.toml, crates/**/Cargo.toml, tests/**\n\nAcceptance criteria:\n- TAK-only build remains first-class, documented, and regression-tested.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:20.786889736Z","created_by":"codex","updated_at":"2026-02-16T16:37:35.072722224Z","closed_at":"2026-02-16T16:37:35.072705120Z","close_reason":"Added TAK-only profile matrix and release gate tests","source_repo":".","compaction_level":0,"original_size":0,"labels":["release","tak-only"],"dependencies":[{"issue_id":"bd-2vq.10.2.1","depends_on_id":"bd-2vq.10.2","type":"parent-child","created_at":"2026-02-16T13:02:20.786889736Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":71,"issue_id":"bd-2vq.10.2.1","author":"codex","text":"Planning rationale:\nKeep default features conservative and additive features explicit.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:21Z"},{"id":108,"issue_id":"bd-2vq.10.2.1","author":"ChartreusePond","text":"IMPLEMENTATION:\n- `Cargo.toml:11`\n  - Added explicit workspace release profile metadata for `tak_only` and `tak_sapient`:\n    - included crate sets\n    - forbidden crate set for TAK-only (`rustak-sapient`, `rustak-bridge`)\n    - acceptance command matrix for profile verification.\n- `docs/conformance.md:1`\n  - Added profile-specific conformance matrix documenting TAK-only vs TAK+SAPIENT gates, required commands, and synchronization policy.\n- `tests/release_profiles/Cargo.toml:1`\n  - Added standalone profile-matrix test crate for non-interactive release-gate verification.\n- `tests/release_profiles/tests/profile_matrix.rs:1`\n  - Added automated checks that:\n    - root profile metadata exists and is internally consistent,\n    - TAK-only forbidden crates are excluded from included set,\n    - TAK+SAPIENT profile includes bridge/SAPIENT components,\n    - listed crates actually have manifests,\n    - conformance doc mentions both profiles.\n\nValidation:\n- `cargo test --manifest-path tests/release_profiles/Cargo.toml` (3 passed)\n- `cargo test --manifest-path crates/rustak-record/Cargo.toml` (5 passed)\n- `cargo test --manifest-path crates/rustak-bridge/Cargo.toml` (3 passed)\n- `cargo test --manifest-path crates/rustak-wire/Cargo.toml` (6 passed)\n- `cargo test --manifest-path crates/rustak-transport/Cargo.toml` (7 passed)\n- `cargo test --manifest-path crates/rustak-sapient/Cargo.toml` (6 passed)\n","created_at":"2026-02-16T16:37:30Z"}]}
{"id":"bd-2vq.10.2.2","title":"[RELEASE] Deterministic bridge replay gate and RC checklist","description":"Background:\nBridge profile needs deterministic regression gates to maintain trust.\n\nGoal:\nImplement end-to-end deterministic replay acceptance and release candidate checklist for bridge deployments.\n\nFiles:\ntests/interop_harness/**, docs/deployment_guide.md, docs/conformance.md\n\nAcceptance criteria:\n- Bridge release readiness is objectively verifiable via deterministic E2E criteria.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:21.607496988Z","created_by":"codex","updated_at":"2026-02-16T15:31:34.746439792Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["bridge","e2e","release"],"dependencies":[{"issue_id":"bd-2vq.10.2.2","depends_on_id":"bd-2vq.10.2","type":"parent-child","created_at":"2026-02-16T13:02:21.607496988Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.10.2.2","depends_on_id":"bd-2vq.10.2.1","type":"blocks","created_at":"2026-02-16T13:03:48.991899220Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.10.2.2","depends_on_id":"bd-2vq.7.2","type":"blocks","created_at":"2026-02-16T15:31:08.315096662Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.10.2.2","depends_on_id":"bd-2vq.8.2","type":"blocks","created_at":"2026-02-16T15:31:08.727280107Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.10.2.2","depends_on_id":"bd-2vq.9.2","type":"blocks","created_at":"2026-02-16T15:31:09.136762608Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":72,"issue_id":"bd-2vq.10.2.2","author":"codex","text":"Planning rationale:\nChecklist should capture negotiation, mapping, replay, and operational observability expectations.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:22Z"},{"id":89,"issue_id":"bd-2vq.10.2.2","author":"codex","text":"Optimization update:\nAdded explicit dependencies on bridge correctness, record interop, and simulation sweeps.\n\nWhy:\n- Deterministic bridge release signoff is only meaningful after these streams converge.\n- Preserves rigor while keeping earlier planning tasks unblocked.","created_at":"2026-02-16T15:31:34Z"}]}
{"id":"bd-2vq.11","title":"[DX] User adoption and operator success path","description":"Background:\nThe current graph is technically strong but underweights direct user/operator success outcomes (quick starts, task-focused examples, troubleshooting-first docs).\n\nGoal:\nCreate a first-class user-adoption stream so TAK-only and TAK-plus-SAPIENT users can onboard quickly and operate confidently.\n\nFiles:\ndocs/**, examples/**, crates/rustak-cli/**, README.md\n\nAcceptance criteria:\n- Users can follow documented TAK-only and bridge-specific paths without architecture-level tribal knowledge.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":3,"issue_type":"epic","created_at":"2026-02-16T15:31:09.577335449Z","created_by":"codex","updated_at":"2026-02-16T15:32:34.948741934Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["adoption","docs","dx"],"dependencies":[{"issue_id":"bd-2vq.11","depends_on_id":"bd-2vq","type":"parent-child","created_at":"2026-02-16T15:31:09.577335449Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.11","depends_on_id":"bd-2vq.10.2","type":"blocks","created_at":"2026-02-16T15:31:16.356929198Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.11","depends_on_id":"bd-2vq.6.1","type":"blocks","created_at":"2026-02-16T15:31:16.801764248Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.11","depends_on_id":"bd-2vq.7.2","type":"blocks","created_at":"2026-02-16T15:31:17.236014369Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":78,"issue_id":"bd-2vq.11","author":"codex","text":"Planning rationale:\nOperator and developer success should be treated as a core deliverable, not a documentation afterthought.\n\nFuture-self notes:\n- This stream exists to lower adoption friction and reduce support load.\n- Prefer task-oriented guidance over purely conceptual prose.\n- Keep TAK-only path explicit and lightweight.","created_at":"2026-02-16T15:31:10Z"}]}
{"id":"bd-2vq.11.1","title":"[DX] TAK-only and bridge quickstart paths","description":"Background:\nUsers need outcome-oriented entry points: standalone TAK library path and optional bridge pipeline path.\n\nGoal:\nProduce clear quickstart guides for both profiles with verified commands and expected outcomes.\n\nFiles:\nREADME.md, docs/quickstart_tak_only.md, docs/quickstart_bridge.md, crates/rustak-cli/**\n\nAcceptance criteria:\n- TAK-only quickstart works independently of bridge stack.\n- Bridge quickstart includes prerequisites, config validation, and replay checks.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-16T15:31:10.437787288Z","created_by":"codex","updated_at":"2026-02-16T15:31:18.640585735Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["dx","quickstart"],"dependencies":[{"issue_id":"bd-2vq.11.1","depends_on_id":"bd-2vq.10.2.1","type":"blocks","created_at":"2026-02-16T15:31:17.693877586Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.11.1","depends_on_id":"bd-2vq.11","type":"parent-child","created_at":"2026-02-16T15:31:10.437787288Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.11.1","depends_on_id":"bd-2vq.6.1.2","type":"blocks","created_at":"2026-02-16T15:31:18.163924005Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.11.1","depends_on_id":"bd-2vq.7.2.1","type":"blocks","created_at":"2026-02-16T15:31:18.640556991Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":79,"issue_id":"bd-2vq.11.1","author":"codex","text":"Planning rationale:\nUsers should not have to infer a valid startup sequence from architecture diagrams.\n\nFuture-self notes:\n- Make prerequisite checks explicit and executable.\n- Show expected output signatures so users can self-diagnose quickly.","created_at":"2026-02-16T15:31:10Z"}]}
{"id":"bd-2vq.11.1.1","title":"[DX] Author TAK-only quickstart with profile matrix","description":"Background:\nTAK-only is a strategic adoption path and must remain lightweight.\n\nGoal:\nDocument build/run/test matrix for TAK-only profile and common first workflows.\n\nFiles:\ndocs/quickstart_tak_only.md, README.md\n\nAcceptance criteria:\n- TAK-only quickstart includes feature flags, sample commands, and verification checkpoints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T15:31:11.362029158Z","created_by":"codex","updated_at":"2026-02-16T15:31:11.757015220Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["dx","quickstart","tak-only"],"dependencies":[{"issue_id":"bd-2vq.11.1.1","depends_on_id":"bd-2vq.11.1","type":"parent-child","created_at":"2026-02-16T15:31:11.362029158Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":80,"issue_id":"bd-2vq.11.1.1","author":"codex","text":"Planning rationale:\nThis subtask protects the core value proposition for users who do not need bridge features.","created_at":"2026-02-16T15:31:11Z"}]}
{"id":"bd-2vq.11.1.2","title":"[DX] Author bridge quickstart with validation and replay checks","description":"Background:\nBridge onboarding fails most often at environment and mapping validation stages.\n\nGoal:\nDocument bridge startup, validation, and deterministic replay checks with explicit troubleshooting cues.\n\nFiles:\ndocs/quickstart_bridge.md, docs/conformance.md, crates/rustak-cli/**\n\nAcceptance criteria:\n- Bridge quickstart includes mapping validation and replay verification steps.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T15:31:12.166562734Z","created_by":"codex","updated_at":"2026-02-16T15:31:15.453422668Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["bridge","dx","quickstart"],"dependencies":[{"issue_id":"bd-2vq.11.1.2","depends_on_id":"bd-2vq.11.1","type":"parent-child","created_at":"2026-02-16T15:31:12.166562734Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.11.1.2","depends_on_id":"bd-2vq.11.1.1","type":"blocks","created_at":"2026-02-16T15:31:15.453396533Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":81,"issue_id":"bd-2vq.11.1.2","author":"codex","text":"Planning rationale:\nInterop success requires explicit guardrails, not just happy-path command examples.","created_at":"2026-02-16T15:31:12Z"}]}
{"id":"bd-2vq.11.2","title":"[DX] Example and operator playbook alignment","description":"Background:\nExamples and runbooks should align with real operational goals (diagnose, recover, verify) rather than isolated API snippets.\n\nGoal:\nBuild an example matrix and operator playbook mapping from common intents to concrete commands and expected signals.\n\nFiles:\nexamples/**, docs/operator_playbook.md, docs/deployment_guide.md\n\nAcceptance criteria:\n- Example set maps directly to top user intents and deployment profiles.\n- Operator playbook includes troubleshooting and health/metrics triage flow.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-16T15:31:12.995548478Z","created_by":"codex","updated_at":"2026-02-16T15:31:19.595316014Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["dx","examples","ops"],"dependencies":[{"issue_id":"bd-2vq.11.2","depends_on_id":"bd-2vq.11","type":"parent-child","created_at":"2026-02-16T15:31:12.995548478Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.11.2","depends_on_id":"bd-2vq.11.1","type":"blocks","created_at":"2026-02-16T15:31:14.979374888Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.11.2","depends_on_id":"bd-2vq.5.2","type":"blocks","created_at":"2026-02-16T15:31:19.127527797Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.11.2","depends_on_id":"bd-2vq.8.2","type":"blocks","created_at":"2026-02-16T15:31:19.595278882Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":82,"issue_id":"bd-2vq.11.2","author":"codex","text":"Planning rationale:\nUsers evaluate products through successful tasks, not isolated API surface area.","created_at":"2026-02-16T15:31:13Z"}]}
{"id":"bd-2vq.11.2.1","title":"[DX] Curate scenario and transport example matrix","description":"Background:\nUsers need confidence that examples cover real transport/protocol scenarios.\n\nGoal:\nDefine and validate a minimal-but-complete example matrix across TAK-only and bridge-relevant workflows.\n\nFiles:\nexamples/**, docs/conformance.md\n\nAcceptance criteria:\n- Example matrix covers send/listen/replay/bridge and common failure-recovery paths.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T15:31:13.201278487Z","created_by":"codex","updated_at":"2026-02-16T15:31:13.658547638Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["dx","examples"],"dependencies":[{"issue_id":"bd-2vq.11.2.1","depends_on_id":"bd-2vq.11.2","type":"parent-child","created_at":"2026-02-16T15:31:13.201278487Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":83,"issue_id":"bd-2vq.11.2.1","author":"codex","text":"Planning rationale:\nExample coverage should map to user jobs-to-be-done, not crate boundaries.","created_at":"2026-02-16T15:31:13Z"}]}
{"id":"bd-2vq.11.2.2","title":"[DX] Publish operator troubleshooting and runbook flow","description":"Background:\nOperational teams need deterministic troubleshooting paths under time pressure.\n\nGoal:\nPublish a troubleshooting-first runbook covering health checks, negotiation diagnostics, limits breaches, and replay-based verification.\n\nFiles:\ndocs/operator_playbook.md, docs/deployment_guide.md, crates/rustak-admin/**\n\nAcceptance criteria:\n- Runbook supports rapid triage for transport, negotiation, and bridge issues.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T15:31:14.075812617Z","created_by":"codex","updated_at":"2026-02-16T15:31:20.073658409Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["dx","ops","runbook"],"dependencies":[{"issue_id":"bd-2vq.11.2.2","depends_on_id":"bd-2vq.11.2","type":"parent-child","created_at":"2026-02-16T15:31:14.075812617Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.11.2.2","depends_on_id":"bd-2vq.11.2.1","type":"blocks","created_at":"2026-02-16T15:31:15.874421356Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.11.2.2","depends_on_id":"bd-2vq.6.2","type":"blocks","created_at":"2026-02-16T15:31:20.073630023Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":84,"issue_id":"bd-2vq.11.2.2","author":"codex","text":"Planning rationale:\nA strong runbook reduces mean-time-to-recovery and support burden for users.","created_at":"2026-02-16T15:31:14Z"}]}
{"id":"bd-2vq.2","title":"[CORE] Invariant-safe domain model evolution","description":"Background:\nCore model decisions propagate everywhere; invalid state tolerance at this layer multiplies downstream complexity.\n\nGoal:\nMake invalid states unrepresentable (where feasible) and unify timestamp/kinematics/detail extension contracts.\n\nFiles:\ncrates/rustak-core/**, crates/rustak-cot/**, docs/\n\nAcceptance criteria:\n- Core API provides validated constructors, canonical kinematics representation, and stable extension hooks.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":3,"issue_type":"epic","created_at":"2026-02-16T13:01:47.053682014Z","created_by":"codex","updated_at":"2026-02-16T16:45:47.585408725Z","closed_at":"2026-02-16T16:45:47.585391906Z","close_reason":"Completed: invariant-safe core model, TimestampUtc, and ExtensionRegistry contracts","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","correctness","model"],"dependencies":[{"issue_id":"bd-2vq.2","depends_on_id":"bd-2vq","type":"parent-child","created_at":"2026-02-16T13:01:47.053682014Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.2","depends_on_id":"bd-2vq.1","type":"blocks","created_at":"2026-02-16T13:03:49.409884969Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":10,"issue_id":"bd-2vq.2","author":"codex","text":"Planning rationale:\nThis stream keeps downstream code simpler by enforcing semantic rules at the earliest boundary.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:47Z"},{"id":112,"issue_id":"bd-2vq.2","author":"ChartreuseCastle","text":"Core epic closure rationale:\n\nCompleted child beads:\n- `bd-2vq.2.1` Harden constructors and canonical detail/track model\n- `bd-2vq.2.2.1` TimestampUtc alias + optional chrono interop\n- `bd-2vq.2.2.2` ExtensionRegistry contracts and deterministic typed/opaque conformance tests\n- `bd-2vq.2.2` parent task now closed\n\nImplemented core outcomes:\n- Validated constructors and invariant-safe primitives (`Position`, `Kinematics`, `Track`, `CotDetail`)\n- Deterministic detail ordering and duplicate track rejection\n- Stable UTC timestamp model with optional chrono interop\n- Formal extension registry seam with typed decode/encode and opaque passthrough behavior\n\nThis satisfies the epic acceptance criteria and should unblock downstream IO/WIRE/BRIDGE/SIM streams that depend on `bd-2vq.2`.","created_at":"2026-02-16T16:45:41Z"}]}
{"id":"bd-2vq.2.1","title":"[CORE] Harden constructors and canonical detail/track model","description":"Background:\nLatitude/longitude and detail structure assumptions must be encoded directly in API contracts.\n\nGoal:\nImplement constructor-based invariants and canonical detail/track representation choices.\n\nFiles:\ncrates/rustak-core/src/**\n\nAcceptance criteria:\n- Core structs prevent invalid ranges/NaN states and avoid duplicated semantic representations.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-16T13:01:47.272043788Z","created_by":"codex","updated_at":"2026-02-16T16:27:59.049136604Z","closed_at":"2026-02-16T16:27:59.049110742Z","close_reason":"Hardened core constructors and canonical detail/track model","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","design"],"dependencies":[{"issue_id":"bd-2vq.2.1","depends_on_id":"bd-2vq.1.1","type":"blocks","created_at":"2026-02-16T13:04:07.344217123Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.2.1","depends_on_id":"bd-2vq.2","type":"parent-child","created_at":"2026-02-16T13:01:47.272043788Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":11,"issue_id":"bd-2vq.2.1","author":"codex","text":"Planning rationale:\nPrefer migration helpers to reduce breakage when replacing legacy optional/raw fields.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:47Z"},{"id":102,"issue_id":"bd-2vq.2.1","author":"ChartreusePond","text":"IMPLEMENTATION:\n- `crates/rustak-core/src/lib.rs:1`\n  - Added and exported the new model surface (`Position`, `Kinematics`, `Track`, `CotDetail`, `DetailElement`, `CoreError`).\n- `crates/rustak-core/src/model.rs:4`\n  - Implemented constructor-hardened core primitives with invariant enforcement:\n    - `Position::new` + `with_hae/with_ce/with_le` validation\n    - `Kinematics::new` normalization + range checks\n    - `Track::new` empty-state rejection\n- `crates/rustak-core/src/model.rs:167`\n  - Implemented canonical detail representation with deterministic ordering and duplicate-track rejection.\n  - Preserved unknown/detail passthrough semantics via `XmlElement` and `ExtensionBlob`.\n- `crates/rustak-core/src/model.rs:355`\n  - Added focused tests covering constructor invariants and canonical ordering behavior.\n\nRelated sub-beads covered by this implementation:\n- `bd-2vq.2.1.1` (Position constructor and validation policy)\n- `bd-2vq.2.1.2` (Detail ordering + Track/Kinematics canonicalization)\n\nValidation:\n- `cargo test --manifest-path /tmp/rustak-core-validate-*/Cargo.toml` (temporary isolated manifest copy)\n- `cargo test --manifest-path /tmp/rustak-core-validate-*/Cargo.toml --features chrono`\n- Result: pass (`10` tests default, `11` with `chrono`).\n","created_at":"2026-02-16T16:27:54Z"}]}
{"id":"bd-2vq.2.1.1","title":"[CORE] Position constructor and validation policy","description":"Background:\nPosition values are central to every event and require strict, reusable validation.\n\nGoal:\nAdd Position::new/with_hae constructors with range and numeric validity checks.\n\nFiles:\ncrates/rustak-core/src/position.rs, crates/rustak-core/src/error.rs\n\nAcceptance criteria:\n- Invalid position data is rejected consistently with clear error messaging.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:47.503826775Z","created_by":"codex","updated_at":"2026-02-16T16:27:28.389859421Z","closed_at":"2026-02-16T16:27:28.389836895Z","close_reason":"Implemented Position constructor validation policy","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","validation"],"dependencies":[{"issue_id":"bd-2vq.2.1.1","depends_on_id":"bd-2vq.2.1","type":"parent-child","created_at":"2026-02-16T13:01:47.503826775Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":12,"issue_id":"bd-2vq.2.1.1","author":"codex","text":"Planning rationale:\nAvoid duplicated validation logic in callers by keeping constructor path first-class.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:47Z"},{"id":99,"issue_id":"bd-2vq.2.1.1","author":"ChartreusePond","text":"IMPLEMENTATION:\n- `crates/rustak-core/src/model.rs:14`\n  - Added `Position::new(latitude, longitude)` with strict finite/range validation for WGS84 bounds (`lat [-90, 90]`, `lon [-180, 180]`).\n- `crates/rustak-core/src/model.rs:25`\n  - Added constructor-style field enrichers: `with_hae`, `with_ce`, `with_le`.\n  - `with_ce`/`with_le` enforce non-negative meters and reject non-finite values.\n- `crates/rustak-core/src/model.rs:198`\n  - Added shared `CoreError` variants for validation failures (`NonFiniteValue`, `OutOfRange`, `NegativeValue`).\n- `crates/rustak-core/src/model.rs:307`\n  - Added reusable validators (`validate_finite`, `validate_non_negative`, `validate_bounded`) and `canonicalize_zero` normalization.\n- `crates/rustak-core/src/model.rs:361`\n  - Added unit tests covering:\n    - out-of-range latitude/longitude rejection\n    - optional field validation behavior\n    - clear error mapping for invalid values\n\nValidation:\n- `cargo test --manifest-path /tmp/rustak-core-validate-*/Cargo.toml` (temporary isolated manifest copy)\n- `cargo test --manifest-path /tmp/rustak-core-validate-*/Cargo.toml --features chrono`\n- Result: pass.\n","created_at":"2026-02-16T16:27:19Z"}]}
{"id":"bd-2vq.2.1.2","title":"[CORE] Canonicalize DetailElement ordering and Track/Kinematics","description":"Background:\nDuplicate track semantics and unordered unknown detail payloads undermine determinism and interoperability.\n\nGoal:\nUnify track/kinematics representation and adopt ordered detail element structure with unknown passthrough semantics.\n\nFiles:\ncrates/rustak-core/src/detail.rs, crates/rustak-core/src/kinematics.rs\n\nAcceptance criteria:\n- Detail ordering is deterministic and unknown elements/attrs are preserved semantically.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:47.727257623Z","created_by":"codex","updated_at":"2026-02-16T16:27:45.194083973Z","closed_at":"2026-02-16T16:27:45.194065780Z","close_reason":"Canonicalized detail ordering and Track/Kinematics model","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","model"],"dependencies":[{"issue_id":"bd-2vq.2.1.2","depends_on_id":"bd-2vq.2.1","type":"parent-child","created_at":"2026-02-16T13:01:47.727257623Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.2.1.2","depends_on_id":"bd-2vq.2.1.1","type":"blocks","created_at":"2026-02-16T13:03:39.149790610Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":13,"issue_id":"bd-2vq.2.1.2","author":"codex","text":"Planning rationale:\nPreservation guarantees should be explicit for replay/audit use cases.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:47Z"},{"id":100,"issue_id":"bd-2vq.2.1.2","author":"ChartreusePond","text":"IMPLEMENTATION:\n- `crates/rustak-core/src/model.rs:66`\n  - Added `Kinematics::new(speed, course, vertical_rate)` with invariant enforcement:\n    - speed non-negative and finite\n    - course bounded `[0, 360]` with canonical `360 -> 0`\n    - vertical_rate finite\n- `crates/rustak-core/src/model.rs:112`\n  - Added `Track::new(kinematics)` requiring at least one populated kinematic component to avoid duplicate empty semantics.\n- `crates/rustak-core/src/model.rs:167`\n  - Added canonical detail representation:\n    - `DetailElement::{Track, Unknown, Extension}`\n    - `CotDetail::new/push` normalization pipeline\n- `crates/rustak-core/src/model.rs:248`\n  - Implemented deterministic ordering + duplicate track protection:\n    - rank order (`Track` -> `Unknown` -> `Extension`)\n    - stable intra-kind comparison (`Unknown` by name/payload, `Extension` by key/bytes, `Track` by kinematic tuple)\n    - hard rejection of multiple track elements (`DuplicateTrackElements`).\n- `crates/rustak-core/src/model.rs:412`\n  - Added tests for course canonicalization, empty-track rejection, duplicate track rejection, and deterministic element ordering.\n\nValidation:\n- `cargo test --manifest-path /tmp/rustak-core-validate-*/Cargo.toml` (temporary isolated manifest copy)\n- `cargo test --manifest-path /tmp/rustak-core-validate-*/Cargo.toml --features chrono`\n- Result: pass.\n","created_at":"2026-02-16T16:27:41Z"}]}
{"id":"bd-2vq.2.2","title":"[CORE] Timestamp strategy and extension registry","description":"Background:\nCore timestamp and extension contracts must stay lightweight while preserving integration flexibility.\n\nGoal:\nAdopt TimestampUtc strategy () with optional chrono interop and formal ExtensionRegistry interfaces.\n\nFiles:\ncrates/rustak-core/src/time.rs, crates/rustak-core/src/detail.rs, crates/rustak-cot/**\n\nAcceptance criteria:\n- Timestamp and extension APIs are stable, explicit, and integration-friendly.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-16T13:01:47.976016805Z","created_by":"codex","updated_at":"2026-02-16T16:45:27.995244410Z","closed_at":"2026-02-16T16:45:27.995227746Z","close_reason":"Completed: TimestampUtc strategy plus ExtensionRegistry contracts/tests","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","extensibility","time"],"dependencies":[{"issue_id":"bd-2vq.2.2","depends_on_id":"bd-2vq.2","type":"parent-child","created_at":"2026-02-16T13:01:47.976016805Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.2.2","depends_on_id":"bd-2vq.2.1","type":"blocks","created_at":"2026-02-16T13:03:38.755398489Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":14,"issue_id":"bd-2vq.2.2","author":"codex","text":"Planning rationale:\nTime representation choice should be documented to avoid repeated debate and accidental divergence.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:48Z"},{"id":111,"issue_id":"bd-2vq.2.2","author":"ChartreuseCastle","text":"Completion summary for bd-2vq.2.2:\n\n- `bd-2vq.2.2.1` completed earlier with `TimestampUtc` nanosecond UTC model, `SystemTime` conversions, and optional `chrono` interop/tests in `crates/rustak-core/src/time.rs`.\n- `bd-2vq.2.2.2` now completed with formal `ExtensionRegistry` contracts + deterministic typed/opaque passthrough behavior in `crates/rustak-core/src/detail.rs` and conformance tests in `crates/rustak-cot/tests/extension_registry.rs`.\n\nResult: timestamp + extension APIs are explicit, stable, and integration-friendly in line with this bead's acceptance criteria.","created_at":"2026-02-16T16:45:24Z"}]}
{"id":"bd-2vq.2.2.1","title":"[CORE] Implement TimestampUtc alias + chrono interop feature","description":"Background:\nDirect dependency on heavy time APIs can harm portability/build surface.\n\nGoal:\nImplement UTC-first timestamp alias and optional conversion helpers for chrono consumers.\n\nFiles:\ncrates/rustak-core/src/time.rs, crates/rustak-core/Cargo.toml\n\nAcceptance criteria:\n- Core timestamp usage is unified and optional interop remains available behind features.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:48.241588736Z","created_by":"codex","updated_at":"2026-02-16T16:23:46.472816743Z","closed_at":"2026-02-16T16:23:46.471407069Z","close_reason":"Implemented TimestampUtc + optional chrono interop","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","time"],"dependencies":[{"issue_id":"bd-2vq.2.2.1","depends_on_id":"bd-2vq.2.2","type":"parent-child","created_at":"2026-02-16T13:01:48.241588736Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":15,"issue_id":"bd-2vq.2.2.1","author":"codex","text":"Planning rationale:\nPreserve explicit UTC semantics; avoid silent timezone assumptions.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:48Z"},{"id":96,"issue_id":"bd-2vq.2.2.1","author":"agent","text":"IMPLEMENTATION:\n- crates/rustak-core/Cargo.toml:1-13\n  - Added `rustak-core` crate manifest with optional `chrono` feature (`chrono = [\"dep:chrono\"]`) and optional dependency gate.\n- crates/rustak-core/src/lib.rs:1-3\n  - Exported the time module and re-exported `TimestampUtc` + `TimestampError`.\n- crates/rustak-core/src/time.rs:6-230\n  - Implemented `TimestampUtc` as UTC nanoseconds-since-epoch canonical representation.\n  - Added constructors/accessors: `now`, `from_unix_nanos`, `from_unix_seconds`, `from_unix_seconds_nanos`, `from_system_time`, `unix_nanos`, `unix_seconds`, `subsec_nanos`, `to_system_time`.\n  - Added robust range/error handling via `TimestampError` (`InvalidNanoseconds`, `OutOfRangeForSystemTime`, `OutOfRangeForChrono`).\n  - Added optional chrono interop behind feature gates:\n    - `From<chrono::DateTime<Utc>> for TimestampUtc`\n    - `TryFrom<TimestampUtc> for chrono::DateTime<Utc>`\n  - Added focused unit tests for invalid nanos, negative canonicalization, SystemTime roundtrip before/after epoch, and chrono roundtrip (`cfg(feature=\"chrono\")`).\n\nValidation run:\n- Workspace root currently does not include `crates/rustak-core` in members, so direct in-tree `cargo test --manifest-path crates/rustak-core/Cargo.toml` is blocked by Cargo workspace membership checks.\n- Executed isolated manifest validation using a temporary copy:\n  - `cargo test --manifest-path /tmp/rustak-core-validate-*/Cargo.toml`\n  - `cargo test --manifest-path /tmp/rustak-core-validate-*/Cargo.toml --features chrono`\n- Results: pass (default: 4 tests, chrono: 5 tests).\n","created_at":"2026-02-16T16:23:15Z"}]}
{"id":"bd-2vq.2.2.2","title":"[CORE] ExtensionRegistry contracts and tests","description":"Background:\nPluggable detail codecs require stable contract points to avoid hard-coding behavior in rustak-cot.\n\nGoal:\nDefine ExtensionRegistry traits and conformance tests for encode/decode passthrough behavior.\n\nFiles:\ncrates/rustak-core/src/detail.rs, crates/rustak-cot/tests/**\n\nAcceptance criteria:\n- Typed and opaque extension paths are both supported with deterministic handling.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:48.514407983Z","created_by":"codex","updated_at":"2026-02-16T16:45:11.459115189Z","closed_at":"2026-02-16T16:45:11.459088218Z","close_reason":"Completed: ExtensionRegistry contracts + deterministic typed/opaque conformance tests","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","extensions","test"],"dependencies":[{"issue_id":"bd-2vq.2.2.2","depends_on_id":"bd-2vq.2.2","type":"parent-child","created_at":"2026-02-16T13:01:48.514407983Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.2.2.2","depends_on_id":"bd-2vq.2.2.1","type":"blocks","created_at":"2026-02-16T13:03:39.522726118Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":16,"issue_id":"bd-2vq.2.2.2","author":"codex","text":"Planning rationale:\nThis is a key future-proofing seam for vendor and domain-specific extensions.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:48Z"},{"id":110,"issue_id":"bd-2vq.2.2.2","author":"ChartreuseCastle","text":"Implemented ExtensionRegistry contracts and deterministic typed/opaque extension behavior.\n\nDelivered:\n- crates/rustak-core/src/detail.rs\n  - Added `ExtensionRegistry` trait with encode/decode contract\n  - Added `decode_extension_element` typed-or-opaque fallback helper\n  - Added `encode_extension_element` typed encode + opaque passthrough helper\n  - Added unit tests for typed roundtrip, opaque fallback, and deterministic passthrough precedence\n- crates/rustak-core/src/lib.rs\n  - Re-exported ExtensionRegistry helpers\n- crates/rustak-core/Cargo.toml\n  - Added `[workspace]` to allow direct crate-level test execution\n- crates/rustak-cot/Cargo.toml\n- crates/rustak-cot/src/lib.rs\n- crates/rustak-cot/tests/extension_registry.rs\n  - Added conformance tests validating typed registry roundtrip and opaque passthrough\n\nValidation run:\n- cargo test --manifest-path crates/rustak-core/Cargo.toml\n- cargo test --manifest-path crates/rustak-core/Cargo.toml --features chrono\n- cargo test --manifest-path crates/rustak-cot/Cargo.toml\n- cargo fmt --manifest-path crates/rustak-core/Cargo.toml\n- cargo fmt --manifest-path crates/rustak-cot/Cargo.toml\n- cargo test --manifest-path crates/rustak-core/Cargo.toml\n- cargo test --manifest-path crates/rustak-cot/Cargo.toml\n\nAcceptance mapping:\n- Typed path: registry encode/decode roundtrip for Track detail extensions\n- Opaque path: unknown key/bytes preserved as `DetailElement::Extension` and re-encoded losslessly\n- Deterministic handling: opaque passthrough always wins for opaque elements, independent of registry behavior","created_at":"2026-02-16T16:45:08Z"}]}
{"id":"bd-2vq.3","title":"[IO] Generic message contracts and middleware stack","description":"Background:\nCoT-specific IO contracts force duplication when adding SAPIENT/replay/sim pathways.\n\nGoal:\nGeneralize IO contracts and implement reusable middleware layers for transport, replay, and simulation.\n\nFiles:\ncrates/rustak-io/**, crates/rustak-transport/**, crates/rustak-record/**, crates/rustak-sim/**\n\nAcceptance criteria:\n- All message pipelines share generic sink/source contracts and layer semantics.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":3,"issue_type":"epic","created_at":"2026-02-16T13:01:48.787117429Z","created_by":"codex","updated_at":"2026-02-16T15:32:38.053243946Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["architecture","io","middleware"],"dependencies":[{"issue_id":"bd-2vq.3","depends_on_id":"bd-2vq","type":"parent-child","created_at":"2026-02-16T13:01:48.787117429Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.3","depends_on_id":"bd-2vq.2","type":"blocks","created_at":"2026-02-16T13:03:49.835643195Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":17,"issue_id":"bd-2vq.3","author":"codex","text":"Planning rationale:\nThis stream eliminates protocol-specific duplication and strengthens composability.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:48Z"}]}
{"id":"bd-2vq.3.1","title":"[IO] Replace CoT-only traits with generic contracts","description":"Background:\nExisting CotSink/CotSource signatures constrain reuse and force parallel abstractions.\n\nGoal:\nIntroduce MessageSink<T>/MessageSource<T> and preserve ergonomic aliases for CoT-specific callers.\n\nFiles:\ncrates/rustak-io/src/lib.rs, crates/rustak-transport/**, crates/rustak-record/**, crates/rustak-sim/**\n\nAcceptance criteria:\n- Generic contracts compile and existing CoT call sites migrate without semantic regression.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-16T13:01:49.081439854Z","created_by":"codex","updated_at":"2026-02-16T16:56:41.326808857Z","closed_at":"2026-02-16T16:56:41.326792901Z","close_reason":"Completed: generic IO contracts implemented and migrated across transport/record/sim boundaries","source_repo":".","compaction_level":0,"original_size":0,"labels":["api","io"],"dependencies":[{"issue_id":"bd-2vq.3.1","depends_on_id":"bd-2vq.2.1","type":"blocks","created_at":"2026-02-16T13:04:07.818885526Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.3.1","depends_on_id":"bd-2vq.3","type":"parent-child","created_at":"2026-02-16T13:01:49.081439854Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":18,"issue_id":"bd-2vq.3.1","author":"codex","text":"Planning rationale:\nMigration should be staged to preserve buildability and minimize breakage windows.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:49Z"},{"id":118,"issue_id":"bd-2vq.3.1","author":"ChartreuseCastle","text":"Completion summary for `bd-2vq.3.1`:\n\n- `bd-2vq.3.1.1` completed: introduced generic `MessageSink<T>`/`MessageSource<T>` contracts and CoT compatibility aliases in `rustak-io`.\n- `bd-2vq.3.1.2` completed: migrated shared transport/record/sim IO boundary surfaces to generic envelope/sink/source contracts with focused integration helpers and tests.\n\nOutcome:\n- Shared boundary APIs now use generic message contracts and envelope semantics, and this blocker can be closed to unblock downstream tracks (`bd-2vq.5.1`, `bd-2vq.3.2`, `bd-2vq.9.1`).","created_at":"2026-02-16T16:56:37Z"}]}
{"id":"bd-2vq.3.1.1","title":"[IO] Implement generic trait APIs and CoT aliases","description":"Background:\nType-level generalization must remain object-safe and runtime-agnostic.\n\nGoal:\nImplement generic trait definitions, envelope methods, and backward-compatible aliases.\n\nFiles:\ncrates/rustak-io/src/lib.rs\n\nAcceptance criteria:\n- Trait object use-cases remain supported and documentation reflects new conventions.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:49.381252205Z","created_by":"codex","updated_at":"2026-02-16T16:48:42.070956235Z","closed_at":"2026-02-16T16:48:42.070938138Z","close_reason":"Completed: generic MessageSink/MessageSource APIs + CoT aliases in rustak-io","source_repo":".","compaction_level":0,"original_size":0,"labels":["implementation","io"],"dependencies":[{"issue_id":"bd-2vq.3.1.1","depends_on_id":"bd-2vq.3.1","type":"parent-child","created_at":"2026-02-16T13:01:49.381252205Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":19,"issue_id":"bd-2vq.3.1.1","author":"codex","text":"Planning rationale:\nKeep futures/stream ergonomics explicit to avoid hidden allocation surprises.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:49Z"},{"id":113,"issue_id":"bd-2vq.3.1.1","author":"ChartreuseCastle","text":"Implemented the initial generic IO contract surface and CoT alias layer in a new `rustak-io` crate.\n\nDelivered:\n- `crates/rustak-io/Cargo.toml`\n  - Added standalone crate metadata and dependencies (`bytes`, `futures`, `thiserror`)\n- `crates/rustak-io/src/lib.rs`\n  - `IoError` taxonomy (`Closed`, `Timeout`, `Overloaded`, IO passthrough, `Other`)\n  - `ObservedTime` (`now`, explicit constructor)\n  - Generic `MessageEnvelope<T>` with helper methods (`new`, `with_observed`, `with_peer`, `with_raw_frame`, `map_message`)\n  - Object-safe generic traits `MessageSink<T>` and `MessageSource<T>`\n  - Default `send_envelope` forwarding path for sink ergonomics\n  - Backward-compatible CoT-named aliases on generic APIs: `CotMessage`, `CotEnvelope`, `CotSink`, `CotSource`\n  - Unit tests covering envelope mapping, `send_envelope` delegation, and trait-object/stream object safety for CoT aliases\n\nValidation:\n- `cargo fmt --manifest-path crates/rustak-io/Cargo.toml`\n- `cargo test --manifest-path crates/rustak-io/Cargo.toml` (3 passed)\n\nAcceptance mapping:\n- Generic trait definitions implemented and compile\n- Trait object use-cases validated via `&CotSink` + `Box<CotSource>` tests\n- Envelope helper methods documented by tests and available for downstream migration in `bd-2vq.3.1.2`","created_at":"2026-02-16T16:48:37Z"}]}
{"id":"bd-2vq.3.1.2","title":"[IO] Migrate transport/sim/record call sites","description":"Background:\nGeneralized trait introduction is only complete when all relevant crates consume it.\n\nGoal:\nUpdate transport, sim, and record interfaces to use generic contracts and envelope semantics.\n\nFiles:\ncrates/rustak-transport/**, crates/rustak-sim/**, crates/rustak-record/**\n\nAcceptance criteria:\n- No CoT-only abstractions remain at the shared IO boundary layer.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:49.697870010Z","created_by":"codex","updated_at":"2026-02-16T16:56:25.497991787Z","closed_at":"2026-02-16T16:56:25.497975409Z","close_reason":"Completed: transport/record/sim boundaries migrated to generic rustak-io contracts","source_repo":".","compaction_level":0,"original_size":0,"labels":["io","migration"],"dependencies":[{"issue_id":"bd-2vq.3.1.2","depends_on_id":"bd-2vq.3.1","type":"parent-child","created_at":"2026-02-16T13:01:49.697870010Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.3.1.2","depends_on_id":"bd-2vq.3.1.1","type":"blocks","created_at":"2026-02-16T13:03:39.678341122Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":20,"issue_id":"bd-2vq.3.1.2","author":"codex","text":"Planning rationale:\nEnsure migration retains deterministic timing and metadata behavior.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:49Z"},{"id":117,"issue_id":"bd-2vq.3.1.2","author":"ChartreuseCastle","text":"Migrated shared boundary surfaces in transport/record/sim to generic `rustak-io` contracts and envelope semantics.\n\nDelivered:\n- `crates/rustak-transport/Cargo.toml`\n  - Added dependency on `rustak-io`\n- `crates/rustak-transport/src/lib.rs`\n  - Added generic IO boundary aliases: `TransportEnvelope<T>`, `TransportSink<T>`, `TransportSource<T>`\n  - Added `envelope<T>` helper for uniform envelope construction\n  - Added test validating helper metadata defaults\n\n- `crates/rustak-record/Cargo.toml`\n  - Added `rustak-io` and `bytes` dependencies\n- `crates/rustak-record/src/lib.rs`\n  - Added generic boundary aliases: `RecordEnvelope<T>`, `RecordSink<T>`, `RecordSource<T>`\n  - Added `append_envelope_chunk` helper integrating `MessageEnvelope<Bytes>` into takrec chunk writing semantics\n  - Added tests verifying raw-frame preference and message fallback paths\n\n- `crates/rustak-sim/Cargo.toml`\n- `crates/rustak-sim/src/lib.rs`\n  - Added simulation IO compatibility crate exposing generic message boundary aliases and scenario envelope helper\n  - Added unit test for scenario envelope behavior\n\nValidation:\n- `cargo fmt --manifest-path crates/rustak-transport/Cargo.toml`\n- `cargo fmt --manifest-path crates/rustak-record/Cargo.toml`\n- `cargo fmt --manifest-path crates/rustak-sim/Cargo.toml`\n- `cargo test --manifest-path crates/rustak-transport/Cargo.toml`\n- `cargo test --manifest-path crates/rustak-record/Cargo.toml`\n- `cargo test --manifest-path crates/rustak-sim/Cargo.toml`\n\nAcceptance mapping:\n- Shared IO boundary surfaces now speak generic sink/source/envelope vocabulary across transport, record, and sim crates, with no CoT-only boundary assumptions in these interfaces.","created_at":"2026-02-16T16:56:21Z"}]}
{"id":"bd-2vq.3.2","title":"[IO] Build stackable middleware layers","description":"Background:\nImpairment, dedup, coalescing, and metrics should be reusable adapters rather than ad-hoc per-crate logic.\n\nGoal:\nImplement composable IO layers for tap, rate-limit, dedup, coalesce, impairment, and metrics.\n\nFiles:\ncrates/rustak-io/src/layers.rs, crates/rustak-sim/**, crates/rustak-record/**\n\nAcceptance criteria:\n- Layer stack behavior is deterministic, testable, and protocol-agnostic.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-02-16T13:01:50.021231077Z","created_by":"codex","updated_at":"2026-02-16T17:03:56.306832211Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["io","middleware"],"dependencies":[{"issue_id":"bd-2vq.3.2","depends_on_id":"bd-2vq.3","type":"parent-child","created_at":"2026-02-16T13:01:50.021231077Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.3.2","depends_on_id":"bd-2vq.3.1","type":"blocks","created_at":"2026-02-16T13:03:39.294974126Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":21,"issue_id":"bd-2vq.3.2","author":"codex","text":"Planning rationale:\nLayer semantics need clear ordering guarantees to avoid subtle behavior drift.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:50Z"}]}
{"id":"bd-2vq.3.2.1","title":"[IO] Implement layer primitives and contracts","description":"Background:\nMiddleware utility depends on robust, uniform interfaces.\n\nGoal:\nImplement each layer primitive with explicit configuration and envelope handling semantics.\n\nFiles:\ncrates/rustak-io/src/layers.rs\n\nAcceptance criteria:\n- Each layer has clear API docs and deterministic behavior under concurrent use.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:50.339152809Z","created_by":"codex","updated_at":"2026-02-16T13:01:50.513677145Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["implementation","io","middleware"],"dependencies":[{"issue_id":"bd-2vq.3.2.1","depends_on_id":"bd-2vq.3.2","type":"parent-child","created_at":"2026-02-16T13:01:50.339152809Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":22,"issue_id":"bd-2vq.3.2.1","author":"codex","text":"Planning rationale:\nAvoid implicit global state; keep layers composable and local.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:50Z"}]}
{"id":"bd-2vq.3.2.2","title":"[IO] Deterministic tests and overhead benchmarks","description":"Background:\nReusable middleware must be validated for both correctness and performance overhead.\n\nGoal:\nAdd deterministic tests and benchmark coverage for layer combinations and adverse conditions.\n\nFiles:\ntests/**, benches/**, crates/rustak-io/**\n\nAcceptance criteria:\n- Behavioral invariants and overhead budgets are documented and enforced in CI.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:50.678977696Z","created_by":"codex","updated_at":"2026-02-16T13:03:40.108512664Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["benchmark","io","test"],"dependencies":[{"issue_id":"bd-2vq.3.2.2","depends_on_id":"bd-2vq.3.2","type":"parent-child","created_at":"2026-02-16T13:01:50.678977696Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.3.2.2","depends_on_id":"bd-2vq.3.2.1","type":"blocks","created_at":"2026-02-16T13:03:40.108484171Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":23,"issue_id":"bd-2vq.3.2.2","author":"codex","text":"Planning rationale:\nBenchmarks should guide defaults and identify high-cost layer combinations.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:50Z"}]}
{"id":"bd-2vq.4","title":"[WIRE] Negotiation security policy and telemetry","description":"Background:\nNegotiation is a primary downgrade and ambiguity attack surface; policy and reason attribution must be explicit.\n\nGoal:\nImplement policy-driven negotiation behavior with auditable event/reason telemetry.\n\nFiles:\ncrates/rustak-wire/**, crates/rustak-transport/**, crates/rustak-record/**\n\nAcceptance criteria:\n- Downgrade behavior is explicit, testable, and recoverable in post-incident analysis.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":3,"issue_type":"epic","created_at":"2026-02-16T13:01:51.015088351Z","created_by":"codex","updated_at":"2026-02-16T15:32:37.630303182Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["protocol","security","wire"],"dependencies":[{"issue_id":"bd-2vq.4","depends_on_id":"bd-2vq","type":"parent-child","created_at":"2026-02-16T13:01:51.015088351Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.4","depends_on_id":"bd-2vq.1","type":"blocks","created_at":"2026-02-16T13:03:50.425702558Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.4","depends_on_id":"bd-2vq.2","type":"blocks","created_at":"2026-02-16T13:03:51.121268469Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":24,"issue_id":"bd-2vq.4","author":"codex","text":"Planning rationale:\nSecurity posture must be configurable but never ambiguous in runtime logs or replay artifacts.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:51Z"}]}
{"id":"bd-2vq.4.1","title":"[WIRE] Encode DowngradePolicy in config/state machine","description":"Background:\nFail-open vs fail-closed decisions are deployment-critical and should not be implicit.\n\nGoal:\nImplement DowngradePolicy and policy-aware transitions with explicit reason codes.\n\nFiles:\ncrates/rustak-wire/src/**\n\nAcceptance criteria:\n- State transitions deterministically encode policy outcomes and reason taxonomy.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-16T13:01:51.365282423Z","created_by":"codex","updated_at":"2026-02-16T16:52:52.595396743Z","closed_at":"2026-02-16T16:52:52.595366990Z","close_reason":"Completed: policy-aware wire negotiation state machine + behavior matrix validation","source_repo":".","compaction_level":0,"original_size":0,"labels":["policy","wire"],"dependencies":[{"issue_id":"bd-2vq.4.1","depends_on_id":"bd-2vq.1.1","type":"blocks","created_at":"2026-02-16T13:04:08.227534965Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.4.1","depends_on_id":"bd-2vq.2.1","type":"blocks","created_at":"2026-02-16T13:04:08.651586187Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.4.1","depends_on_id":"bd-2vq.4","type":"parent-child","created_at":"2026-02-16T13:01:51.365282423Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":25,"issue_id":"bd-2vq.4.1","author":"codex","text":"Planning rationale:\nPrefer explicit denial reasons over generic failure codes for auditability.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:51Z"},{"id":116,"issue_id":"bd-2vq.4.1","author":"ChartreuseCastle","text":"Completion summary for `bd-2vq.4.1`:\n\n- `bd-2vq.4.1.1` completed: added negotiation state machine (`crates/rustak-wire/src/negotiation.rs`) with deterministic policy-aware transitions and explicit reason enums.\n- `bd-2vq.4.1.2` completed: added fail-open/fail-closed behavior matrix tests and operator conformance documentation.\n\nResult:\n- DowngradePolicy behavior is now explicit, test-backed, and reason-coded across timeout/malformed/unsupported/policy-denied flows, satisfying the task acceptance criteria.","created_at":"2026-02-16T16:52:46Z"}]}
{"id":"bd-2vq.4.1.1","title":"[WIRE] Add policy-aware transitions and reason enums","description":"Background:\nPolicy support without complete transition coverage leaves ambiguous behavior gaps.\n\nGoal:\nAdd transition handling for timeout, malformed control, unsupported version, and policy deny flows.\n\nFiles:\ncrates/rustak-wire/src/negotiation.rs\n\nAcceptance criteria:\n- All negotiation exits report structured reasons aligned with policy.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:51.714629293Z","created_by":"codex","updated_at":"2026-02-16T16:51:20.241249675Z","closed_at":"2026-02-16T16:51:20.241232790Z","close_reason":"Completed: policy-aware negotiation transitions + reason enums in rustak-wire","source_repo":".","compaction_level":0,"original_size":0,"labels":["implementation","wire"],"dependencies":[{"issue_id":"bd-2vq.4.1.1","depends_on_id":"bd-2vq.4.1","type":"parent-child","created_at":"2026-02-16T13:01:51.714629293Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":26,"issue_id":"bd-2vq.4.1.1","author":"codex","text":"Planning rationale:\nThis improves incident triage and reproducibility in integration tests.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:51Z"},{"id":114,"issue_id":"bd-2vq.4.1.1","author":"ChartreuseCastle","text":"Implemented policy-aware negotiation transitions and explicit reason taxonomy in `rustak-wire`.\n\nDelivered:\n- `crates/rustak-wire/src/negotiation.rs`\n  - Added `Negotiator` state machine with explicit states (`LegacyXml`, `AwaitingResponse`, `Upgraded`, `Terminated`)\n  - Added `NegotiationReason` enum with required reason codes:\n    - `Timeout`\n    - `MalformedControl`\n    - `UnsupportedVersion`\n    - `PolicyDenied`\n  - Added `NegotiationEventKind` + `NegotiationEvent` for deterministic transition outcomes\n  - Implemented policy-aware transition handlers for:\n    - timeout\n    - malformed control\n    - unsupported version\n    - explicit policy-deny path\n- `crates/rustak-wire/src/lib.rs`\n  - Exported negotiation module/types for downstream use\n\nValidation:\n- `cargo fmt --manifest-path crates/rustak-wire/Cargo.toml`\n- `cargo test --manifest-path crates/rustak-wire/Cargo.toml`\n\nTests added/covered:\n- fail-open timeout fallback to legacy\n- fail-closed timeout termination\n- malformed-control policy behavior matrix\n- unsupported-version policy behavior matrix\n- successful version upgrade while awaiting response\n- policy-denied termination\n- noop handling for non-awaiting downgrade events\n\nAcceptance mapping:\n- All targeted negotiation exits now emit structured reasons and deterministic event kinds aligned with policy behavior.","created_at":"2026-02-16T16:51:15Z"}]}
{"id":"bd-2vq.4.1.2","title":"[WIRE] Validate fail-open/fail-closed behavior matrix","description":"Background:\nSecurity posture confidence requires deterministic verification across peer behaviors.\n\nGoal:\nBuild matrix tests covering compliant, legacy-only, malformed, and timeout peer scenarios.\n\nFiles:\ntests/protocol_conformance/**, crates/rustak-wire/tests/**\n\nAcceptance criteria:\n- Fail-open and fail-closed behavior is stable and documented for operators.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:52.093175276Z","created_by":"codex","updated_at":"2026-02-16T16:52:37.759838803Z","closed_at":"2026-02-16T16:52:37.759815560Z","close_reason":"Completed: fail-open/fail-closed behavior matrix tests and conformance doc","source_repo":".","compaction_level":0,"original_size":0,"labels":["security","test","wire"],"dependencies":[{"issue_id":"bd-2vq.4.1.2","depends_on_id":"bd-2vq.4.1","type":"parent-child","created_at":"2026-02-16T13:01:52.093175276Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.4.1.2","depends_on_id":"bd-2vq.4.1.1","type":"blocks","created_at":"2026-02-16T13:03:40.882196044Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":27,"issue_id":"bd-2vq.4.1.2","author":"codex","text":"Planning rationale:\nMatrix should include expected logs/telemetry output for forensic readiness.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:52Z"},{"id":115,"issue_id":"bd-2vq.4.1.2","author":"ChartreuseCastle","text":"Implemented fail-open/fail-closed behavior matrix validation for negotiation policy semantics.\n\nDelivered:\n- `crates/rustak-wire/tests/downgrade_policy_matrix.rs`\n  - Added scenario matrix tests for:\n    - compliant peer\n    - legacy-only peer\n    - malformed-control peer\n    - timeout peer\n  - Asserts deterministic outcomes for both `DowngradePolicy::FailOpen` and `DowngradePolicy::FailClosed`\n  - Verifies expected reason codes (`UnsupportedVersion`, `MalformedControl`, `Timeout`) and final states\n- `tests/protocol_conformance/wire_downgrade_policy_matrix.md`\n  - Operator-facing matrix documentation (includes explicit `PolicyDenied` row)\n\nValidation:\n- `cargo fmt --manifest-path crates/rustak-wire/Cargo.toml`\n- `cargo test --manifest-path crates/rustak-wire/Cargo.toml`\n\nAcceptance mapping:\n- Fail-open/fail-closed behavior is now explicitly tested and documented by scenario matrix.","created_at":"2026-02-16T16:52:34Z"}]}
{"id":"bd-2vq.4.2","title":"[WIRE] Negotiation telemetry and fuzz hardening","description":"Background:\nOperational debugging requires negotiation breadcrumbs in record/replay and logs.\n\nGoal:\nEmit negotiation events to telemetry/recording paths and harden parser/state handling with fuzz fixtures.\n\nFiles:\ncrates/rustak-wire/**, crates/rustak-record/**, fuzz/**\n\nAcceptance criteria:\n- Negotiation events are captured and malformed control inputs are robustly handled.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-16T13:01:52.487014114Z","created_by":"codex","updated_at":"2026-02-16T13:03:40.494344876Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["fuzz","telemetry","wire"],"dependencies":[{"issue_id":"bd-2vq.4.2","depends_on_id":"bd-2vq.4","type":"parent-child","created_at":"2026-02-16T13:01:52.487014114Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.4.2","depends_on_id":"bd-2vq.4.1","type":"blocks","created_at":"2026-02-16T13:03:40.494320941Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":28,"issue_id":"bd-2vq.4.2","author":"codex","text":"Planning rationale:\nTelemetry should preserve enough context to reconstruct decision paths without leaking secrets.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:52Z"}]}
{"id":"bd-2vq.4.2.1","title":"[WIRE] Implement NegotiationEvent model and emitters","description":"Background:\nStructured event modeling is required before downstream recording/diagnostics integration.\n\nGoal:\nImplement NegotiationEvent payloads and runtime emit points in wire negotiation paths.\n\nFiles:\ncrates/rustak-wire/src/negotiation.rs, crates/rustak-wire/src/events.rs\n\nAcceptance criteria:\n- Negotiation telemetry is machine-parseable and linked to connection/session context.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:52.902113480Z","created_by":"codex","updated_at":"2026-02-16T13:01:53.128325995Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["telemetry","wire"],"dependencies":[{"issue_id":"bd-2vq.4.2.1","depends_on_id":"bd-2vq.4.2","type":"parent-child","created_at":"2026-02-16T13:01:52.902113480Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":29,"issue_id":"bd-2vq.4.2.1","author":"codex","text":"Planning rationale:\nEvent model should be stable enough for long-term record compatibility.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:53Z"}]}
{"id":"bd-2vq.4.2.2","title":"[WIRE] Add malformed control fuzz fixtures","description":"Background:\nProtocol hardening requires continuous adversarial input coverage.\n\nGoal:\nAdd malformed control frame fuzz targets and regression fixtures for negotiation parser/state logic.\n\nFiles:\nfuzz/**, crates/rustak-wire/**\n\nAcceptance criteria:\n- Known malformed vectors are covered and regressions are reproducible.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:53.348398788Z","created_by":"codex","updated_at":"2026-02-16T13:03:41.260398753Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["fuzz","security","wire"],"dependencies":[{"issue_id":"bd-2vq.4.2.2","depends_on_id":"bd-2vq.4.2","type":"parent-child","created_at":"2026-02-16T13:01:53.348398788Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.4.2.2","depends_on_id":"bd-2vq.4.2.1","type":"blocks","created_at":"2026-02-16T13:03:41.260376797Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":30,"issue_id":"bd-2vq.4.2.2","author":"codex","text":"Planning rationale:\nInclude corpus seeds derived from real-world interop failures where possible.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:53Z"}]}
{"id":"bd-2vq.5","title":"[NET/TRANSPORT] Enforce protocol boundaries and deterministic overload behavior","description":"Background:\nResponsibility overlap between rustak-net and rustak-transport risks duplicate logic and inconsistent behavior.\n\nGoal:\nKeep rustak-net protocol-agnostic and make rustak-transport the TAK-aware boundary with explicit queue/MTU behavior.\n\nFiles:\ncrates/rustak-net/**, crates/rustak-transport/**, crates/rustak-wire/**\n\nAcceptance criteria:\n- No TAK/SAPIENT semantics leak into rustak-net; transport behavior is deterministic under pressure.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":3,"issue_type":"epic","created_at":"2026-02-16T13:01:53.740313351Z","created_by":"codex","updated_at":"2026-02-16T15:32:37.202529101Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["net","performance","transport"],"dependencies":[{"issue_id":"bd-2vq.5","depends_on_id":"bd-2vq","type":"parent-child","created_at":"2026-02-16T13:01:53.740313351Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.5","depends_on_id":"bd-2vq.1","type":"blocks","created_at":"2026-02-16T13:03:51.836778475Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.5","depends_on_id":"bd-2vq.3","type":"blocks","created_at":"2026-02-16T13:03:52.618598003Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.5","depends_on_id":"bd-2vq.4","type":"blocks","created_at":"2026-02-16T13:03:53.807694062Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":31,"issue_id":"bd-2vq.5","author":"codex","text":"Planning rationale:\nThis split is foundational for maintainability and testability.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:54Z"}]}
{"id":"bd-2vq.5.1","title":"[NET/TRANSPORT] Refactor boundary responsibilities","description":"Background:\nA clean boundary avoids duplicated framing and hidden protocol coupling.\n\nGoal:\nMove protocol-specific codec logic to protocol crates and leave generic framed IO primitives in rustak-net.\n\nFiles:\ncrates/rustak-net/**, crates/rustak-transport/**, crates/rustak-sapient/**, crates/rustak-wire/**\n\nAcceptance criteria:\n- Transport composes net+wire cleanly and net remains protocol-neutral.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-02-16T13:01:54.293400618Z","created_by":"codex","updated_at":"2026-02-16T17:03:17.068398450Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["architecture","net","transport"],"dependencies":[{"issue_id":"bd-2vq.5.1","depends_on_id":"bd-2vq.1.2","type":"blocks","created_at":"2026-02-16T13:04:09.072795901Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.5.1","depends_on_id":"bd-2vq.3.1","type":"blocks","created_at":"2026-02-16T13:04:09.515405395Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.5.1","depends_on_id":"bd-2vq.4.1","type":"blocks","created_at":"2026-02-16T13:04:09.930188240Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.5.1","depends_on_id":"bd-2vq.5","type":"parent-child","created_at":"2026-02-16T13:01:54.293400618Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":32,"issue_id":"bd-2vq.5.1","author":"codex","text":"Planning rationale:\nAvoid migration shortcuts that keep stale wrappers in net.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:54Z"}]}
{"id":"bd-2vq.5.1.1","title":"[NET] Keep only generic framed IO primitives","description":"Background:\nProtocol leakage in net undermines intended layering.\n\nGoal:\nRetain only generic framed IO helpers (length-prefix, delimiter, bounded reader) in rustak-net.\n\nFiles:\ncrates/rustak-net/src/**\n\nAcceptance criteria:\n- No TAK/SAPIENT-specific types or semantics remain in rustak-net.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:55.134398565Z","created_by":"codex","updated_at":"2026-02-16T16:25:54.491399530Z","closed_at":"2026-02-16T16:25:54.491382964Z","close_reason":"Implemented protocol-agnostic framed IO primitives","source_repo":".","compaction_level":0,"original_size":0,"labels":["implementation","net"],"dependencies":[{"issue_id":"bd-2vq.5.1.1","depends_on_id":"bd-2vq.5.1","type":"parent-child","created_at":"2026-02-16T13:01:55.134398565Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":33,"issue_id":"bd-2vq.5.1.1","author":"codex","text":"Planning rationale:\nDocument extension points so future protocol crates use net consistently.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:55Z"},{"id":98,"issue_id":"bd-2vq.5.1.1","author":"agent","text":"IMPLEMENTATION:\n- crates/rustak-net/Cargo.toml:1-15 created standalone crate manifest with tokio + thiserror and local [workspace] for independent crate validation.\n- crates/rustak-net/src/lib.rs:1-11 defines the public API surface for protocol-agnostic net primitives.\n- crates/rustak-net/src/error.rs:1-57 adds explicit error taxonomy for bounded reads, length-prefixed framing, and delimiter framing.\n- crates/rustak-net/src/bounded.rs:1-256 adds BoundedReader<R> with strict byte-budget enforcement (read_exact, read_up_to, discard_exact, read_to_end) and boundary-focused tests.\n- crates/rustak-net/src/length_prefixed.rs:1-289 adds LengthPrefixKind (U16Be/U32Be/Varint), bounded read/write helpers, 10-byte varint bounds, and round-trip/overflow tests.\n- crates/rustak-net/src/delimiter.rs:1-171 adds bounded delimiter framing read/write primitives with optional delimiter retention and limit checks.\n- Implementation stays protocol-neutral: no TAK, CoT, or SAPIENT domain semantics/types in rustak-net.\n\nVALIDATION:\n- cargo fmt --manifest-path crates/rustak-net/Cargo.toml\n- cargo test --manifest-path crates/rustak-net/Cargo.toml (13 passed)\n- cargo clippy --manifest-path crates/rustak-net/Cargo.toml --all-targets -- -D warnings (pass)\n- ubs --only=rust crates/rustak-net (reported heuristic warnings from test macros; no compile/lint failures)","created_at":"2026-02-16T16:25:40Z"}]}
{"id":"bd-2vq.5.1.2","title":"[TRANSPORT] Compose TAK-aware transport via net+wire","description":"Background:\nBoundary cleanup must result in clearer composition at transport entry points.\n\nGoal:\nUpdate transport connection/sender/receiver paths to consume rustak-net primitives and rustak-wire framing.\n\nFiles:\ncrates/rustak-transport/src/**\n\nAcceptance criteria:\n- TAK transport behavior remains stable while layering becomes explicit.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:55.995638489Z","created_by":"codex","updated_at":"2026-02-16T17:03:43.406578779Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["integration","transport"],"dependencies":[{"issue_id":"bd-2vq.5.1.2","depends_on_id":"bd-2vq.5.1","type":"parent-child","created_at":"2026-02-16T13:01:55.995638489Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.5.1.2","depends_on_id":"bd-2vq.5.1.1","type":"blocks","created_at":"2026-02-16T13:03:42.031228606Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":34,"issue_id":"bd-2vq.5.1.2","author":"codex","text":"Planning rationale:\nPreserve observability and error context across composition seams.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:56Z"}]}
{"id":"bd-2vq.5.2","title":"[TRANSPORT] Queue modes, coalescing, and MTU safety","description":"Background:\nOperational links are constrained; deterministic shedding/coalescing is necessary under sustained load.\n\nGoal:\nImplement queue modes (FIFO/priority/coalesce) and MTU-safe UDP send behavior with clear defaults.\n\nFiles:\ncrates/rustak-transport/src/**, crates/rustak-config/**\n\nAcceptance criteria:\n- Overload behavior is intentional, testable, and documented for operators.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-16T13:01:56.835612001Z","created_by":"codex","updated_at":"2026-02-16T13:03:41.656681837Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["mtu","qos","transport"],"dependencies":[{"issue_id":"bd-2vq.5.2","depends_on_id":"bd-2vq.5","type":"parent-child","created_at":"2026-02-16T13:01:56.835612001Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.5.2","depends_on_id":"bd-2vq.5.1","type":"blocks","created_at":"2026-02-16T13:03:41.656658420Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":35,"issue_id":"bd-2vq.5.2","author":"codex","text":"Planning rationale:\nTraffic-shaping defaults should prioritize mission-critical event classes.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:57Z"}]}
{"id":"bd-2vq.5.2.1","title":"[TRANSPORT] Implement priority/coalesce send queue modes","description":"Background:\nNaive FIFO-only behavior wastes scarce bandwidth and drops the wrong messages.\n\nGoal:\nImplement selectable send queue modes with classifier hooks and bounded memory accounting.\n\nFiles:\ncrates/rustak-transport/src/queue.rs, crates/rustak-transport/src/config.rs\n\nAcceptance criteria:\n- Queue mode behavior is deterministic and operator-configurable.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:57.777059709Z","created_by":"codex","updated_at":"2026-02-16T13:01:58.201879446Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["queue","transport"],"dependencies":[{"issue_id":"bd-2vq.5.2.1","depends_on_id":"bd-2vq.5.2","type":"parent-child","created_at":"2026-02-16T13:01:57.777059709Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":36,"issue_id":"bd-2vq.5.2.1","author":"codex","text":"Planning rationale:\nDefault classifier behavior should be safe, conservative, and overrideable.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:58Z"}]}
{"id":"bd-2vq.5.2.2","title":"[TRANSPORT] MTU safety and fragmentation/drop policy tests","description":"Background:\nIP fragmentation can collapse reliability on tactical links.\n\nGoal:\nAdd MTU guards and test drop/split behavior for oversize payloads under configurable policy.\n\nFiles:\ncrates/rustak-transport/src/udp.rs, crates/rustak-transport/tests/**\n\nAcceptance criteria:\n- Oversize UDP handling is explicit and validated under realistic payload sizes.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:01:58.658372119Z","created_by":"codex","updated_at":"2026-02-16T13:03:42.426043573Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["mtu","test","transport"],"dependencies":[{"issue_id":"bd-2vq.5.2.2","depends_on_id":"bd-2vq.5.2","type":"parent-child","created_at":"2026-02-16T13:01:58.658372119Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.5.2.2","depends_on_id":"bd-2vq.5.2.1","type":"blocks","created_at":"2026-02-16T13:03:42.426021748Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":37,"issue_id":"bd-2vq.5.2.2","author":"codex","text":"Planning rationale:\nDocument safe defaults and environmental override expectations.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:59Z"}]}
{"id":"bd-2vq.6","title":"[CONFIG/ADMIN] Operational configuration and service controls","description":"Background:\nConfiguration and admin capabilities currently risk being scattered across binaries and crates.\n\nGoal:\nCentralize config contracts/validation and provide optional admin endpoints with secure defaults.\n\nFiles:\ncrates/rustak-config/**, crates/rustak-admin/**, crates/rustak-cli/**\n\nAcceptance criteria:\n- Long-running services get robust ops hooks without forcing runtime coupling for library users.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":3,"issue_type":"epic","created_at":"2026-02-16T13:01:59.466700533Z","created_by":"codex","updated_at":"2026-02-16T15:32:36.756772290Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["admin","config","ops"],"dependencies":[{"issue_id":"bd-2vq.6","depends_on_id":"bd-2vq","type":"parent-child","created_at":"2026-02-16T13:01:59.466700533Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.6","depends_on_id":"bd-2vq.1","type":"blocks","created_at":"2026-02-16T13:03:55.260369844Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.6","depends_on_id":"bd-2vq.5","type":"blocks","created_at":"2026-02-16T13:03:56.105103529Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":38,"issue_id":"bd-2vq.6","author":"codex","text":"Planning rationale:\nOperational correctness must be intentional, testable, and minimally privileged by default.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:01:59Z"}]}
{"id":"bd-2vq.6.1","title":"[CONFIG] Build typed config/validation/schema contracts","description":"Background:\nConfig drift is a common source of runtime failures and inconsistent behavior.\n\nGoal:\nImplement rustak-config typed loading, validation, schema generation, and sensitive-field redaction.\n\nFiles:\ncrates/rustak-config/src/**, docs/**\n\nAcceptance criteria:\n- Invalid configurations fail fast with actionable diagnostics and stable schema output.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-16T13:01:59.934610416Z","created_by":"codex","updated_at":"2026-02-16T13:04:10.744426929Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["config","validation"],"dependencies":[{"issue_id":"bd-2vq.6.1","depends_on_id":"bd-2vq.1.2","type":"blocks","created_at":"2026-02-16T13:04:10.349566131Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.6.1","depends_on_id":"bd-2vq.5.1","type":"blocks","created_at":"2026-02-16T13:04:10.744324796Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.6.1","depends_on_id":"bd-2vq.6","type":"parent-child","created_at":"2026-02-16T13:01:59.934610416Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":39,"issue_id":"bd-2vq.6.1","author":"codex","text":"Planning rationale:\nValidation should include limits, negotiation policy, and mapping completeness checks.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:00Z"}]}
{"id":"bd-2vq.6.1.1","title":"[CONFIG] Implement schema + redaction support","description":"Background:\nOperators and CI pipelines need machine-readable config expectations.\n\nGoal:\nGenerate config schema and implement deterministic redaction of secrets in rendered output/logs.\n\nFiles:\ncrates/rustak-config/src/schema.rs, crates/rustak-config/src/redact.rs\n\nAcceptance criteria:\n- Schema/redaction behavior is stable and covered by tests.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:00.420921875Z","created_by":"codex","updated_at":"2026-02-16T13:02:00.681502162Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["config","schema"],"dependencies":[{"issue_id":"bd-2vq.6.1.1","depends_on_id":"bd-2vq.6.1","type":"parent-child","created_at":"2026-02-16T13:02:00.420921875Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":40,"issue_id":"bd-2vq.6.1.1","author":"codex","text":"Planning rationale:\nRedaction logic should be explicit and auditable to avoid accidental leaks.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:00Z"}]}
{"id":"bd-2vq.6.1.2","title":"[CONFIG] Strict startup validation gates","description":"Background:\nRuntime fallback on malformed config can mask critical misconfiguration.\n\nGoal:\nImplement strict startup mode checks for limits, mapping coverage, and policy completeness.\n\nFiles:\ncrates/rustak-config/src/validate.rs, crates/rustak-bridge/**\n\nAcceptance criteria:\n- Strict mode failures are deterministic and actionable for deployment pipelines.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:00.927647330Z","created_by":"codex","updated_at":"2026-02-16T13:03:43.388400798Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["config","startup","validation"],"dependencies":[{"issue_id":"bd-2vq.6.1.2","depends_on_id":"bd-2vq.6.1","type":"parent-child","created_at":"2026-02-16T13:02:00.927647330Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.6.1.2","depends_on_id":"bd-2vq.6.1.1","type":"blocks","created_at":"2026-02-16T13:03:43.388375088Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":41,"issue_id":"bd-2vq.6.1.2","author":"codex","text":"Planning rationale:\nKeep permissive mode behavior explicitly documented for interop labs only.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:01Z"}]}
{"id":"bd-2vq.6.2","title":"[ADMIN] Optional admin endpoints with secure defaults","description":"Background:\nLong-running services need health/metrics/reload primitives, but libraries should not inherit that surface by default.\n\nGoal:\nImplement rustak-admin with feature-gated endpoints and secure bind/reload behavior.\n\nFiles:\ncrates/rustak-admin/src/**, crates/rustak-cli/**, docs/**\n\nAcceptance criteria:\n- Admin server remains opt-in and operationally safe in default deployments.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-16T13:02:01.444060758Z","created_by":"codex","updated_at":"2026-02-16T13:03:42.982333902Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["admin","ops","security"],"dependencies":[{"issue_id":"bd-2vq.6.2","depends_on_id":"bd-2vq.6","type":"parent-child","created_at":"2026-02-16T13:02:01.444060758Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.6.2","depends_on_id":"bd-2vq.6.1","type":"blocks","created_at":"2026-02-16T13:03:42.982311367Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":42,"issue_id":"bd-2vq.6.2","author":"codex","text":"Planning rationale:\nEndpoint design should minimize abuse potential and accidental exposure.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:01Z"}]}
{"id":"bd-2vq.6.2.1","title":"[ADMIN] Implement health/metrics/reload endpoints","description":"Background:\nOps observability and controlled runtime interaction depend on stable endpoints.\n\nGoal:\nImplement core endpoint handlers and integration with runtime state/config reload hooks.\n\nFiles:\ncrates/rustak-admin/src/server.rs, crates/rustak-admin/src/handlers.rs\n\nAcceptance criteria:\n- Endpoints provide deterministic responses and integrate with service lifecycle controls.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:01.988009055Z","created_by":"codex","updated_at":"2026-02-16T13:02:02.260123095Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["admin","endpoints"],"dependencies":[{"issue_id":"bd-2vq.6.2.1","depends_on_id":"bd-2vq.6.2","type":"parent-child","created_at":"2026-02-16T13:02:01.988009055Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":43,"issue_id":"bd-2vq.6.2.1","author":"codex","text":"Planning rationale:\nPrefer explicit HTTP semantics and structured error payloads.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:02Z"}]}
{"id":"bd-2vq.6.2.2","title":"[ADMIN] Feature-gating and secure bind policy","description":"Background:\nAdmin surfaces are high-value targets and need explicit exposure controls.\n\nGoal:\nEnforce feature-gated inclusion, localhost-safe defaults, and documented security posture.\n\nFiles:\ncrates/rustak-admin/Cargo.toml, crates/rustak-admin/src/config.rs, docs/deployment_guide.md\n\nAcceptance criteria:\n- Admin controls are disabled by default and safe when enabled.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:02.519507424Z","created_by":"codex","updated_at":"2026-02-16T13:03:43.813501200Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["admin","docs","security"],"dependencies":[{"issue_id":"bd-2vq.6.2.2","depends_on_id":"bd-2vq.6.2","type":"parent-child","created_at":"2026-02-16T13:02:02.519507424Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.6.2.2","depends_on_id":"bd-2vq.6.2.1","type":"blocks","created_at":"2026-02-16T13:03:43.813477944Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":44,"issue_id":"bd-2vq.6.2.2","author":"codex","text":"Planning rationale:\nDeployment docs must clearly distinguish lab vs production recommendations.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:02Z"}]}
{"id":"bd-2vq.7","title":"[SAPIENT/BRIDGE] Reliable mapping, idempotence, and correlation","description":"Background:\nBridge correctness failures usually emerge from timing, replay, and correlation edge cases rather than basic parsing.\n\nGoal:\nHarden SAPIENT ingestion and bridge semantics for deterministic, auditable behavior under reconnect and multi-sensor conditions.\n\nFiles:\ncrates/rustak-sapient/**, crates/rustak-bridge/**, tests/sapient_conformance/**\n\nAcceptance criteria:\n- Bridge behavior is deterministic across replay/reconnect and mapping coverage is explicitly enforced.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":3,"issue_type":"epic","created_at":"2026-02-16T13:02:03.062099042Z","created_by":"codex","updated_at":"2026-02-16T15:32:36.321950324Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["bridge","interop","sapient"],"dependencies":[{"issue_id":"bd-2vq.7","depends_on_id":"bd-2vq","type":"parent-child","created_at":"2026-02-16T13:02:03.062099042Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.7","depends_on_id":"bd-2vq.1","type":"blocks","created_at":"2026-02-16T13:03:56.900971183Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.7","depends_on_id":"bd-2vq.2","type":"blocks","created_at":"2026-02-16T13:03:57.736134517Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.7","depends_on_id":"bd-2vq.3","type":"blocks","created_at":"2026-02-16T13:03:58.405221402Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.7","depends_on_id":"bd-2vq.5","type":"blocks","created_at":"2026-02-16T13:03:58.804216720Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.7","depends_on_id":"bd-2vq.6","type":"blocks","created_at":"2026-02-16T13:03:59.197770232Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":45,"issue_id":"bd-2vq.7","author":"codex","text":"Planning rationale:\nThis stream is central to product credibility in evaluation environments.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:03Z"}]}
{"id":"bd-2vq.7.1","title":"[SAPIENT] Session framing/timeouts/reconnect with shared limits","description":"Background:\nSAPIENT transport handling must be bounded and resilient to avoid cascading failures in bridge mode.\n\nGoal:\nIntegrate shared limits into sapient framing/session flows and validate reconnect semantics.\n\nFiles:\ncrates/rustak-sapient/src/**\n\nAcceptance criteria:\n- SAPIENT ingestion is bounded, timeout-safe, and robust under reconnect scenarios.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-16T13:02:03.646777436Z","created_by":"codex","updated_at":"2026-02-16T13:04:10.956779182Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["reliability","sapient"],"dependencies":[{"issue_id":"bd-2vq.7.1","depends_on_id":"bd-2vq.1.2","type":"blocks","created_at":"2026-02-16T13:04:11.163349201Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.7.1","depends_on_id":"bd-2vq.5.1","type":"blocks","created_at":"2026-02-16T13:04:10.956755904Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.7.1","depends_on_id":"bd-2vq.7","type":"parent-child","created_at":"2026-02-16T13:02:03.646777436Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":46,"issue_id":"bd-2vq.7.1","author":"codex","text":"Planning rationale:\nAvoid protocol-specific limit knobs that bypass rustak-limits.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:03Z"}]}
{"id":"bd-2vq.7.1.1","title":"[SAPIENT] Enforce limits-aware frame/session handling","description":"Background:\nLength-prefixed protocols fail badly when limits are inconsistent.\n\nGoal:\nApply Limits for max frame and queue handling in SAPIENT session codec paths.\n\nFiles:\ncrates/rustak-sapient/src/codec.rs, crates/rustak-sapient/src/session.rs\n\nAcceptance criteria:\n- Oversize or malformed frames fail fast with bounded memory behavior.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:04.238562752Z","created_by":"codex","updated_at":"2026-02-16T13:02:04.556337273Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["limits","sapient"],"dependencies":[{"issue_id":"bd-2vq.7.1.1","depends_on_id":"bd-2vq.7.1","type":"parent-child","created_at":"2026-02-16T13:02:04.238562752Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":47,"issue_id":"bd-2vq.7.1.1","author":"codex","text":"Planning rationale:\nError reporting should preserve enough detail for troubleshooting upstream feeds.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:04Z"}]}
{"id":"bd-2vq.7.1.2","title":"[SAPIENT] Versioned conformance fixtures and reconnect cases","description":"Background:\nInteroperability confidence requires reproducible fixtures beyond happy-path examples.\n\nGoal:\nAdd versioned codec/session fixtures and reconnect-order edge-case tests.\n\nFiles:\ntests/sapient_conformance/**, crates/rustak-sapient/tests/**\n\nAcceptance criteria:\n- Codec/session behavior remains stable across supported schema versions.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:04.843169941Z","created_by":"codex","updated_at":"2026-02-16T13:03:44.657354880Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["interop","sapient","test"],"dependencies":[{"issue_id":"bd-2vq.7.1.2","depends_on_id":"bd-2vq.7.1","type":"parent-child","created_at":"2026-02-16T13:02:04.843169941Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.7.1.2","depends_on_id":"bd-2vq.7.1.1","type":"blocks","created_at":"2026-02-16T13:03:44.657322706Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":48,"issue_id":"bd-2vq.7.1.2","author":"codex","text":"Planning rationale:\nCapture representative real-world edge-cases for regression coverage.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:04Z"}]}
{"id":"bd-2vq.7.2","title":"[BRIDGE] Time policy, idempotence, and deterministic correlation","description":"Background:\nBridge output trust depends on deterministic handling of clock skew, duplicates, and multi-sensor identity mapping.\n\nGoal:\nImplement and verify time policy controls, idempotence windows, and deterministic correlation/persistence semantics.\n\nFiles:\ncrates/rustak-bridge/src/**, crates/rustak-config/**, tests/**\n\nAcceptance criteria:\n- Bridge emits stable CoT identity/time behavior across reconnect and replay scenarios.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-16T13:02:04.942208821Z","created_by":"codex","updated_at":"2026-02-16T13:04:11.829810832Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["bridge","correctness"],"dependencies":[{"issue_id":"bd-2vq.7.2","depends_on_id":"bd-2vq.3.2","type":"blocks","created_at":"2026-02-16T13:04:11.829789279Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.7.2","depends_on_id":"bd-2vq.6.1","type":"blocks","created_at":"2026-02-16T13:04:11.403694803Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.7.2","depends_on_id":"bd-2vq.7","type":"parent-child","created_at":"2026-02-16T13:02:04.942208821Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.7.2","depends_on_id":"bd-2vq.7.1","type":"blocks","created_at":"2026-02-16T13:03:44.218735327Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":49,"issue_id":"bd-2vq.7.2","author":"codex","text":"Planning rationale:\nPrioritize deterministic tie-breaks over heuristic opacity.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:05Z"}]}
{"id":"bd-2vq.7.2.1","title":"[BRIDGE] Implement time policy + idempotence windows","description":"Background:\nObserved/message-time ambiguity and replay duplication can produce inconsistent downstream tracks.\n\nGoal:\nImplement message-time/observed-time/skew-clamp policy modes with dedup windows and at-most-once semantics.\n\nFiles:\ncrates/rustak-bridge/src/time_policy.rs, crates/rustak-bridge/src/dedup.rs\n\nAcceptance criteria:\n- Time fields and duplicate handling remain deterministic under replay and reconnect conditions.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:05.564948928Z","created_by":"codex","updated_at":"2026-02-16T13:02:05.885768238Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["bridge","idempotence","time"],"dependencies":[{"issue_id":"bd-2vq.7.2.1","depends_on_id":"bd-2vq.7.2","type":"parent-child","created_at":"2026-02-16T13:02:05.564948928Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":50,"issue_id":"bd-2vq.7.2.1","author":"codex","text":"Planning rationale:\nPrefer transparent policy selection with explicit defaults and metrics.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:05Z"}]}
{"id":"bd-2vq.7.2.2","title":"[BRIDGE] Deterministic UID correlation + strict mapping validation","description":"Background:\nUID churn and partial mapping tables degrade operator trust and analysis repeatability.\n\nGoal:\nImplement deterministic correlation/persistence behavior and strict mapping-coverage startup checks.\n\nFiles:\ncrates/rustak-bridge/src/correlator.rs, crates/rustak-bridge/src/mapping.rs, crates/rustak-config/**\n\nAcceptance criteria:\n- Bridge startup fails in strict mode when mappings are incomplete or inconsistent.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:06.178962613Z","created_by":"codex","updated_at":"2026-02-16T13:03:45.069115896Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["bridge","correlation","validation"],"dependencies":[{"issue_id":"bd-2vq.7.2.2","depends_on_id":"bd-2vq.7.2","type":"parent-child","created_at":"2026-02-16T13:02:06.178962613Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.7.2.2","depends_on_id":"bd-2vq.7.2.1","type":"blocks","created_at":"2026-02-16T13:03:45.069089455Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":51,"issue_id":"bd-2vq.7.2.2","author":"codex","text":"Planning rationale:\nPersisted state schema should support deterministic replay across restarts.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:06Z"}]}
{"id":"bd-2vq.8","title":"[RECORD] Crash-safe self-describing capture and interop","description":"Background:\nRecord/replay is a core differentiator but needs formal guarantees for crash safety, metadata, and interop.\n\nGoal:\nFormalize takrec container semantics and add PCAP import/export plus integrity pathways.\n\nFiles:\ncrates/rustak-record/**, docs/**, tests/**\n\nAcceptance criteria:\n- Recordings remain usable after interruption and support audit/debug workflows across toolchains.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":3,"issue_type":"epic","created_at":"2026-02-16T13:02:06.807008941Z","created_by":"codex","updated_at":"2026-02-16T15:32:35.809244038Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["audit","record","replay"],"dependencies":[{"issue_id":"bd-2vq.8","depends_on_id":"bd-2vq","type":"parent-child","created_at":"2026-02-16T13:02:06.807008941Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.8","depends_on_id":"bd-2vq.3","type":"blocks","created_at":"2026-02-16T13:03:59.623244108Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.8","depends_on_id":"bd-2vq.4","type":"blocks","created_at":"2026-02-16T13:04:00.023319498Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.8","depends_on_id":"bd-2vq.5","type":"blocks","created_at":"2026-02-16T13:04:00.456860660Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.8","depends_on_id":"bd-2vq.7","type":"blocks","created_at":"2026-02-16T13:04:00.855824269Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":52,"issue_id":"bd-2vq.8","author":"codex","text":"Planning rationale:\nTreat replay fidelity and forensic metadata as product requirements, not optional extras.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:07Z"},{"id":74,"issue_id":"bd-2vq.8","author":"codex","text":"Correction note: restored explicit  wording in goal text after command-templating escaped formatting.","created_at":"2026-02-16T13:04:44Z"},{"id":76,"issue_id":"bd-2vq.8","author":"codex","text":"Correction note: goal text now explicitly names takrec container semantics without shell-sensitive quoting.","created_at":"2026-02-16T13:04:55Z"}]}
{"id":"bd-2vq.8.1","title":"[RECORD] Formalize takrec header/chunk/index contracts","description":"Background:\nLoose format definitions lead to incompatible readers and brittle tooling.\n\nGoal:\nDefine and implement container header, chunking, checksums, index semantics, and recovery behavior.\n\nFiles:\ncrates/rustak-record/src/format/**, docs/\n\nAcceptance criteria:\n- takrec format contract is explicit, versioned, and test-covered.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-16T13:02:07.463200548Z","created_by":"codex","updated_at":"2026-02-16T13:04:13.042959754Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["format","record"],"dependencies":[{"issue_id":"bd-2vq.8.1","depends_on_id":"bd-2vq.3.2","type":"blocks","created_at":"2026-02-16T13:04:12.291960841Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.8.1","depends_on_id":"bd-2vq.4.2","type":"blocks","created_at":"2026-02-16T13:04:12.644104908Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.8.1","depends_on_id":"bd-2vq.5.1","type":"blocks","created_at":"2026-02-16T13:04:13.042938208Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.8.1","depends_on_id":"bd-2vq.8","type":"parent-child","created_at":"2026-02-16T13:02:07.463200548Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":53,"issue_id":"bd-2vq.8.1","author":"codex","text":"Planning rationale:\nDesign for forward compatibility and partial recovery scenarios.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:07Z"}]}
{"id":"bd-2vq.8.1.1","title":"[RECORD] Crash-safe writer and checksum semantics","description":"Background:\nField deployments can terminate abruptly; recording loss should be bounded and recoverable.\n\nGoal:\nImplement append-safe writes, chunk checksums, and safe flush boundaries.\n\nFiles:\ncrates/rustak-record/src/writer.rs\n\nAcceptance criteria:\n- Partially written recordings can be recovered without silent corruption.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:08.129120353Z","created_by":"codex","updated_at":"2026-02-16T16:30:14.812868900Z","closed_at":"2026-02-16T16:30:14.812850893Z","close_reason":"Implemented crash-safe writer + checksum/recovery semantics","source_repo":".","compaction_level":0,"original_size":0,"labels":["crash-safety","record"],"dependencies":[{"issue_id":"bd-2vq.8.1.1","depends_on_id":"bd-2vq.8.1","type":"parent-child","created_at":"2026-02-16T13:02:08.129120353Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":54,"issue_id":"bd-2vq.8.1.1","author":"codex","text":"Planning rationale:\nDocument durability/performance trade-offs for operators.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:08Z"},{"id":103,"issue_id":"bd-2vq.8.1.1","author":"ChartreusePond","text":"IMPLEMENTATION:\n- crates/rustak-record/Cargo.toml:1-12 created standalone rustak-record crate manifest with crc32fast + thiserror for checksummed crash-safe writer semantics.\n- crates/rustak-record/src/lib.rs:1-6 exports writer/recovery APIs for downstream record/replay integration.\n- crates/rustak-record/src/writer.rs:14-170 implements TakrecHeader, ChunkCommit, RecoveryReport, and TakrecWriter with:\n  - explicit file/chunk magic constants,\n  - append-safe chunk writes,\n  - per-chunk CRC32 checksums,\n  - commit marker trailer,\n  - flush boundary after each append to support crash-safe durability semantics.\n- crates/rustak-record/src/writer.rs:172-266 implements recover_chunk_index to rebuild chunk index from stream, detect truncated tail, and validate marker/checksum integrity.\n- crates/rustak-record/src/writer.rs:268-510 adds explicit RecordWriteError taxonomy and robust binary read/write helpers for header/chunk decoding.\n- crates/rustak-record/src/writer.rs:513-620 adds unit tests covering complete recovery, truncated-tail recovery, checksum mismatch detection, commit marker mismatch detection, and max-chunk enforcement.\n\nCRASH-SAFETY/RECOVERY SEMANTICS:\n- A chunk is considered committed only when payload + commit marker are fully written and flush boundary succeeds.\n- Recovery scans chunk-by-chunk, returns all fully committed chunks, and flags truncated tail without silently accepting partial chunks.\n- Corruption paths (bad checksum / bad marker / bad magic) fail explicitly.\n\nVALIDATION:\n- cargo fmt --manifest-path crates/rustak-record/Cargo.toml\n- cargo test --manifest-path crates/rustak-record/Cargo.toml (5 passed)\n- cargo clippy --manifest-path crates/rustak-record/Cargo.toml --all-targets -- -D warnings (pass)","created_at":"2026-02-16T16:30:10Z"}]}
{"id":"bd-2vq.8.1.2","title":"[RECORD] Index rebuild and recovery tool contract","description":"Background:\nIndex sidecars may be absent or stale; recovery tooling is mandatory for practical use.\n\nGoal:\nImplement index rebuild path and deterministic recovery diagnostics.\n\nFiles:\ncrates/rustak-record/src/index.rs, crates/rustak-cli/**\n\nAcceptance criteria:\n- Users can rebuild indexes and resume replay/seek operations reliably.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:08.785522756Z","created_by":"codex","updated_at":"2026-02-16T13:03:45.901581764Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["record","recovery","tooling"],"dependencies":[{"issue_id":"bd-2vq.8.1.2","depends_on_id":"bd-2vq.8.1","type":"parent-child","created_at":"2026-02-16T13:02:08.785522756Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.8.1.2","depends_on_id":"bd-2vq.8.1.1","type":"blocks","created_at":"2026-02-16T13:03:45.901560761Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":55,"issue_id":"bd-2vq.8.1.2","author":"codex","text":"Planning rationale:\nRecovery output should clearly report recovered vs unrecoverable segments.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:09Z"}]}
{"id":"bd-2vq.8.2","title":"[RECORD] PCAP interop and integrity chain support","description":"Background:\nInterop with external packet tooling and tamper-evident options expands operational value.\n\nGoal:\nAdd PCAP import/export and integrity metadata/signing pathways for audit workflows.\n\nFiles:\ncrates/rustak-record/src/interop.rs, crates/rustak-record/src/integrity.rs\n\nAcceptance criteria:\n- Recordings can round-trip with PCAP tooling and optionally provide tamper-evident trails.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-16T13:02:09.449371787Z","created_by":"codex","updated_at":"2026-02-16T13:03:45.502964584Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["integrity","interop","record"],"dependencies":[{"issue_id":"bd-2vq.8.2","depends_on_id":"bd-2vq.8","type":"parent-child","created_at":"2026-02-16T13:02:09.449371787Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.8.2","depends_on_id":"bd-2vq.8.1","type":"blocks","created_at":"2026-02-16T13:03:45.502935251Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":56,"issue_id":"bd-2vq.8.2","author":"codex","text":"Planning rationale:\nKeep interop best-effort rules explicit to avoid overpromising decode fidelity.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:09Z"}]}
{"id":"bd-2vq.8.2.1","title":"[RECORD] Implement PCAP export/import annotations","description":"Background:\nPCAP exchange needs context annotations to be useful for debugging.\n\nGoal:\nImplement PCAP conversion with direction/protocol/peer annotations and decode status markers.\n\nFiles:\ncrates/rustak-record/src/interop.rs, tests/**\n\nAcceptance criteria:\n- PCAP conversion preserves enough metadata for downstream forensic analysis.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:10.166669770Z","created_by":"codex","updated_at":"2026-02-16T13:02:10.533290009Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["pcap","record"],"dependencies":[{"issue_id":"bd-2vq.8.2.1","depends_on_id":"bd-2vq.8.2","type":"parent-child","created_at":"2026-02-16T13:02:10.166669770Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":57,"issue_id":"bd-2vq.8.2.1","author":"codex","text":"Planning rationale:\nAnnotate unknown/partial decodes explicitly rather than silently dropping context.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:10Z"}]}
{"id":"bd-2vq.8.2.2","title":"[RECORD] Hash-chain/signing metadata verification path","description":"Background:\nAudit-grade workflows may require tamper evidence or signing integration.\n\nGoal:\nImplement integrity metadata model, hash-chain recording, and optional signature verification hooks.\n\nFiles:\ncrates/rustak-record/src/integrity.rs, docs/security_audit.md\n\nAcceptance criteria:\n- Integrity-enabled recordings support verification with clear pass/fail diagnostics.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:10.890054414Z","created_by":"codex","updated_at":"2026-02-16T13:03:46.322517056Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["integrity","record","security"],"dependencies":[{"issue_id":"bd-2vq.8.2.2","depends_on_id":"bd-2vq.8.2","type":"parent-child","created_at":"2026-02-16T13:02:10.890054414Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.8.2.2","depends_on_id":"bd-2vq.8.2.1","type":"blocks","created_at":"2026-02-16T13:03:46.322496764Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":58,"issue_id":"bd-2vq.8.2.2","author":"codex","text":"Planning rationale:\nDesign should allow progressive adoption without imposing mandatory crypto dependencies.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:11Z"}]}
{"id":"bd-2vq.9","title":"[SIM] Truth/observation separation and evaluation sweeps","description":"Background:\nSimulation must support repeatable evaluation workflows, not just one-off scenario playback.\n\nGoal:\nSplit truth generation from sensor observation and add sweep automation for threshold analysis.\n\nFiles:\ncrates/rustak-sim/**, crates/rustak-record/**, docs/**\n\nAcceptance criteria:\n- Simulation outputs are deterministic and suited for evaluative stress curves and replay correlation.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":3,"issue_type":"epic","created_at":"2026-02-16T13:02:11.592470040Z","created_by":"codex","updated_at":"2026-02-16T15:32:39.807306456Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["determinism","evaluation","sim"],"dependencies":[{"issue_id":"bd-2vq.9","depends_on_id":"bd-2vq","type":"parent-child","created_at":"2026-02-16T13:02:11.592470040Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.9","depends_on_id":"bd-2vq.2","type":"blocks","created_at":"2026-02-16T13:04:01.263736144Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.9","depends_on_id":"bd-2vq.3","type":"blocks","created_at":"2026-02-16T13:04:01.896228866Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.9","depends_on_id":"bd-2vq.8","type":"blocks","created_at":"2026-02-16T13:04:02.618170425Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":59,"issue_id":"bd-2vq.9","author":"codex","text":"Planning rationale:\nThis stream converts simulation from demo utility into defensible evaluation tooling.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:11Z"}]}
{"id":"bd-2vq.9.1","title":"[SIM] Separate TruthEngine and SensorModel contracts","description":"Background:\nConflated truth and observation logic limits reuse and makes calibration difficult.\n\nGoal:\nIntroduce explicit TruthEngine and SensorModel boundaries with adapter compatibility.\n\nFiles:\ncrates/rustak-sim/src/**\n\nAcceptance criteria:\n- Truth evolution and observation generation can be tested independently.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:12.327519213Z","created_by":"codex","updated_at":"2026-02-16T13:04:13.871968276Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["architecture","sim"],"dependencies":[{"issue_id":"bd-2vq.9.1","depends_on_id":"bd-2vq.2.1","type":"blocks","created_at":"2026-02-16T13:04:13.428680136Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.9.1","depends_on_id":"bd-2vq.3.1","type":"blocks","created_at":"2026-02-16T13:04:13.871941519Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.9.1","depends_on_id":"bd-2vq.9","type":"parent-child","created_at":"2026-02-16T13:02:12.327519213Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":60,"issue_id":"bd-2vq.9.1","author":"codex","text":"Planning rationale:\nKeep deterministic seeding and state transition ordering explicit.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:12Z"}]}
{"id":"bd-2vq.9.1.1","title":"[SIM] Implement deterministic TruthEngine","description":"Background:\nDeterministic truth state is foundational for repeatable evaluation.\n\nGoal:\nImplement state evolution engine with explicit seeding, timing, and reproducible transitions.\n\nFiles:\ncrates/rustak-sim/src/truth.rs\n\nAcceptance criteria:\n- Given the same inputs/seed, truth output is bitwise-stable where feasible.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-16T13:02:13.083804925Z","created_by":"codex","updated_at":"2026-02-16T13:02:13.465559384Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["sim","truth"],"dependencies":[{"issue_id":"bd-2vq.9.1.1","depends_on_id":"bd-2vq.9.1","type":"parent-child","created_at":"2026-02-16T13:02:13.083804925Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":61,"issue_id":"bd-2vq.9.1.1","author":"codex","text":"Planning rationale:\nEmit diagnostics that help compare expected vs actual progression.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:13Z"}]}
{"id":"bd-2vq.9.1.2","title":"[SIM] Implement SensorModel interfaces and adapters","description":"Background:\nSensor abstraction enables reuse across CoT/SAPIENT and hybrid scenarios.\n\nGoal:\nDefine SensorModel trait and adapters that consume truth state into protocol-specific observations.\n\nFiles:\ncrates/rustak-sim/src/sensor.rs, crates/rustak-sim/src/adapters/**\n\nAcceptance criteria:\n- Sensor behavior is pluggable, deterministic, and protocol-agnostic at core boundary.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-16T13:02:13.870738418Z","created_by":"codex","updated_at":"2026-02-16T13:03:47.121586915Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["sensor","sim"],"dependencies":[{"issue_id":"bd-2vq.9.1.2","depends_on_id":"bd-2vq.9.1","type":"parent-child","created_at":"2026-02-16T13:02:13.870738418Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.9.1.2","depends_on_id":"bd-2vq.9.1.1","type":"blocks","created_at":"2026-02-16T13:03:47.121565161Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":62,"issue_id":"bd-2vq.9.1.2","author":"codex","text":"Planning rationale:\nAvoid embedding protocol-specific assumptions in truth state models.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:14Z"}]}
{"id":"bd-2vq.9.2","title":"[SIM] Parameter sweeps and scenario composition","description":"Background:\nEvaluation teams need systematic sweeps across noise/dropout/update-rate dimensions.\n\nGoal:\nImplement SweepRunner and scenario composition overlays/includes for reusable evaluation workflows.\n\nFiles:\ncrates/rustak-sim/src/sweep.rs, crates/rustak-sim/src/scenario.rs, docs/\n\nAcceptance criteria:\n- Sweep runs produce comparable reports and support deterministic replay cross-checking.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T13:02:14.696126361Z","created_by":"codex","updated_at":"2026-02-16T13:04:14.269592369Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["sim","sweeps"],"dependencies":[{"issue_id":"bd-2vq.9.2","depends_on_id":"bd-2vq.8.2","type":"blocks","created_at":"2026-02-16T13:04:14.269568403Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.9.2","depends_on_id":"bd-2vq.9","type":"parent-child","created_at":"2026-02-16T13:02:14.696126361Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.9.2","depends_on_id":"bd-2vq.9.1","type":"blocks","created_at":"2026-02-16T13:03:46.721409514Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":63,"issue_id":"bd-2vq.9.2","author":"codex","text":"Planning rationale:\nReport schema should enable plotting threshold curves and regression diffs.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:15Z"}]}
{"id":"bd-2vq.9.2.1","title":"[SIM] Implement SweepRunner grid execution","description":"Background:\nManual scenario variants do not scale to systematic evaluations.\n\nGoal:\nImplement parameter-grid execution and result aggregation for multi-run sweeps.\n\nFiles:\ncrates/rustak-sim/src/sweep.rs\n\nAcceptance criteria:\n- Sweep execution is deterministic, parallelizable, and resumable.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-16T13:02:15.422554499Z","created_by":"codex","updated_at":"2026-02-16T13:02:15.812212086Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["implementation","sim","sweeps"],"dependencies":[{"issue_id":"bd-2vq.9.2.1","depends_on_id":"bd-2vq.9.2","type":"parent-child","created_at":"2026-02-16T13:02:15.422554499Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":64,"issue_id":"bd-2vq.9.2.1","author":"codex","text":"Planning rationale:\nCapture per-run metadata needed for downstream analysis reproducibility.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:15Z"}]}
{"id":"bd-2vq.9.2.2","title":"[SIM] Scenario overlay/include composition model","description":"Background:\nReusable scenario composition reduces duplication and improves explainability.\n\nGoal:\nImplement scenario include/overlay support with deterministic merge/override behavior.\n\nFiles:\ncrates/rustak-sim/src/scenario.rs, docs/\n\nAcceptance criteria:\n- Composed scenarios are stable, validated, and easy to diff/version.\n- Dependency links accurately reflect execution order and blocking constraints.\n- Scope remains compatible with both TAK-only builds and optional TAK+SAPIENT builds.\n\nNon-goals:\n- No hidden architecture changes outside this bead's explicit scope.\n- No bypassing centralized limits, validation, or audit expectations.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-16T13:02:16.187471415Z","created_by":"codex","updated_at":"2026-02-16T13:03:47.519110430Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["scenario","sim"],"dependencies":[{"issue_id":"bd-2vq.9.2.2","depends_on_id":"bd-2vq.9.2","type":"parent-child","created_at":"2026-02-16T13:02:16.187471415Z","created_by":"codex","metadata":"{}","thread_id":""},{"issue_id":"bd-2vq.9.2.2","depends_on_id":"bd-2vq.9.2.1","type":"blocks","created_at":"2026-02-16T13:03:47.519081330Z","created_by":"codex","metadata":"{}","thread_id":""}],"comments":[{"id":65,"issue_id":"bd-2vq.9.2.2","author":"codex","text":"Planning rationale:\nDefine precedence/merge rules clearly to avoid hidden composition ambiguity.\n\nFuture-self notes:\n- This bead exists to preserve the architecture's modular intent and reduce rework.\n- Treat security, determinism, and operational auditability as first-order requirements.\n- Keep implementation choices aligned with explicit crate boundaries and feature-gated optionality.","created_at":"2026-02-16T13:02:16Z"}]}
{"id":"bd-3vs","title":"[ARCH] Program-level architecture execution spine","description":"Background:\\nThe architecture doc now includes major structural changes (limits, generic IO, net/transport boundaries, bridge hardening, and ops crates).\\n\\nGoal:\\nCreate a top-level execution spine that keeps these changes coherent and traceable from design through implementation.\\n\\nFiles:\\n rustak_architecture.md, rustak_architecture_v2_foundational_20260216_101917.md, AGENTS.md, .beads/issues.jsonl\\n\\nAcceptance criteria:\\n- All major streams are represented as child beads with dependencies\\n- Phase gates and sequencing are explicit\\n- TAK-only and TAK+SAPIENT paths remain clearly separable","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-16T12:58:02.380127991Z","created_by":"agent","updated_at":"2026-02-16T13:04:17.142517746Z","closed_at":"2026-02-16T13:04:17.142495383Z","close_reason":"Superseded by bd-2vq comprehensive plan","source_repo":".","compaction_level":0,"original_size":0,"labels":["arch","planning","program"],"comments":[{"id":1,"issue_id":"bd-3vs","author":"agent","text":"Rationale and intent:\\n- This epic exists to prevent local optimizations from fragmenting the architecture.\\n- The project has two first-class outcomes: (1) a standalone Rust TAK library and (2) an optional SAPIENT bridge pipeline.\\n- Every downstream epic must preserve that separation through dependency and feature-flag boundaries.\\n\\nPlanning considerations:\\n- Use centralized limits as a non-negotiable guardrail against unbounded paths.\\n- Keep protocol responsibilities crisp (net generic vs transport TAK-aware).\\n- Treat deterministic replay and operational controls as product requirements, not post-MVP polish.","created_at":"2026-02-16T12:58:08Z"},{"id":73,"issue_id":"bd-3vs","author":"codex","text":"Superseded by bd-2vq.\\n\\nReason:\\n- bd-2vq is the comprehensive, modular, dependency-overlaid execution graph requested by the user.\\n- Keeping both open would duplicate planning surfaces and create triage ambiguity.","created_at":"2026-02-16T13:04:16Z"}]}
